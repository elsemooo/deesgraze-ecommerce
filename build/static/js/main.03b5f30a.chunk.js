(this.webpackJsonpshoeshop=this.webpackJsonpshoeshop||[]).push([[0],{48:function(e,t,c){},49:function(e,t,c){},82:function(e,t,c){"use strict";c.r(t);var a=c(1),s=c.n(a),r=c(19),n=c.n(r),i=(c(48),c(49),c(50),c(3)),o=c(8),l=c(5),d=c(2),j=c(9),u=c(4),b=c.n(u),m="USER_LOGIN_REQUEST",p="USER_LOGIN_SUCCESS",h="USER_LOGIN_FAIL",O="USER_LOGOUT",x="USER_REGISTER_REQUEST",g="USER_REGISTER_SUCCESS",f="USER_REGISTER_FAIL",v="USER_DETAILS_REQUEST",N="USER_DETAILS_SUCCESS",y="USER_DETAILS_FAIL",S="USER_DETAILS_RESET",w="USER_UPDATE_PROFILE_REQUEST",E="USER_UPDATE_PROFILE_SUCCESS",I="USER_UPDATE_PROFILE_FAIL",_=c(10),C=c.n(_),R="ORDER_CREATE_REQUEST",k="ORDER_CREATE_SUCCESS",T="ORDER_CREATE_FAIL",A="ORDER_CREATE_RESET",P="ORDER_DETAILS_REQUEST",D="ORDER_DETAILS_SUCCESS",L="ORDER_DETAILS_FAIL",F="ORDER_PAY_REQUEST",U="ORDER_PAY_SUCCESS",z="ORDER_PAY_FAIL",M="ORDER_PAY_RESET",q="ORDER_LIST_MY_REQUEST",B="ORDER_LIST_MY_SUCCESS",J="ORDER_LIST_MY_FAIL",Q="ORDER_LIST_MY_RESET",W=function(){return function(e){localStorage.removeItem("userInfo"),e({type:O}),e({type:S}),e({type:Q})}},G=c(0),V=function(){var e=Object(a.useState)(),t=Object(l.a)(e,2),c=t[0],s=t[1],r=Object(d.b)(),n=Object(o.g)(),j=Object(d.c)((function(e){return e.cart})).cartItems,u=Object(d.c)((function(e){return e.userLogin})).userInfo,b=function(){r(W())},m=function(e){e.preventDefault(),c.trim()?n.push("/search/".concat(c)):n.push("/")};return Object(G.jsxs)("div",{children:[Object(G.jsx)("div",{className:"Announcement ",children:Object(G.jsx)("div",{className:"container",children:Object(G.jsxs)("div",{className:"row",children:[Object(G.jsxs)("div",{className:"col-md-6 col-md-6header d-flex align-items-center display-none",children:[Object(G.jsx)("p",{children:"Soporte: +51 981 203 309"}),Object(G.jsx)("p",{className:"margin-rigth-2",children:"deesgraze@gmail.com"})]}),Object(G.jsxs)("div",{className:" col-12 col-lg-6 justify-content-center justify-content-lg-end d-flex align-items-center",children:[Object(G.jsx)("p",{className:"deesgraze",children:"Deesgraze: +51 999 999 999"}),Object(G.jsx)("a",{href:"https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fdeesgraze.com%2F",target:"_blank",children:Object(G.jsx)("i",{className:"fab fa-facebook-f"})}),Object(G.jsx)("a",{href:"https://www.instagram.com/deesgraze.clothes/",target:"_blank",children:Object(G.jsx)("i",{className:"fab fa-instagram"})}),Object(G.jsx)("a",{href:"https://www.pinterest.com/pin/create/button/?url=https%3A%2F%2Fdeesgraze.com%2F&description=Deesgraze&media=https%3A%2F%2Fd2j6dbq0eux0bg.cloudfront.net%2Fimages%2F39780191%2F2972456865.jpg",target:"_blank",children:Object(G.jsx)("i",{className:"fab fa-pinterest-p"})})]})]})})}),Object(G.jsx)("div",{className:"header",children:Object(G.jsxs)("div",{className:"container",children:[Object(G.jsx)("div",{className:"mobile-header",children:Object(G.jsx)("div",{className:"container ",children:Object(G.jsxs)("div",{className:"row ",children:[Object(G.jsx)("div",{className:"col-6 d-flex align-items-center",children:Object(G.jsx)(i.b,{className:"navbar-brand",to:"/",children:Object(G.jsx)("img",{alt:"logo",src:"/images/logo.png"})})}),Object(G.jsxs)("div",{className:"col-6 d-flex align-items-center justify-content-end Login-Register",children:[u?Object(G.jsxs)("div",{className:"btn-group",children:[Object(G.jsx)("button",{type:"button",className:"name-button dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:Object(G.jsx)("i",{class:"fas fa-user"})}),Object(G.jsxs)("div",{className:"dropdown-menu",children:[Object(G.jsx)(i.b,{className:"dropdown-item",to:"/profile",children:"Perfil"}),Object(G.jsx)(i.b,{className:"dropdown-item",to:"#",onClick:b,children:"Cerrar sesi\xf3n"})]})]}):Object(G.jsxs)("div",{className:"btn-group",children:[Object(G.jsx)("button",{type:"button",className:"name-button dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:Object(G.jsx)("i",{class:"fas fa-user"})}),Object(G.jsxs)("div",{className:"dropdown-menu",children:[Object(G.jsx)(i.b,{className:"dropdown-item",to:"/login",children:"Iniciar sesi\xf3n"}),Object(G.jsx)(i.b,{className:"dropdown-item",to:"/register",children:"Registrarse"})]})]}),Object(G.jsxs)(i.b,{to:"/cart",className:"cart-mobile-icon",children:[Object(G.jsx)("i",{className:"fas fa-shopping-bag"}),Object(G.jsx)("span",{className:"badge",children:j.length})]})]}),Object(G.jsx)("div",{className:"col-12 d-flex align-items-center",children:Object(G.jsxs)("form",{onSubmit:m,className:"input-group",children:[Object(G.jsx)("input",{type:"search",className:"form-control rounded search",placeholder:"Buscar",onChange:function(e){return s(e.target.value)}}),Object(G.jsx)("button",{type:"submit",className:"search-button",children:"Buscar"})]})})]})})}),Object(G.jsx)("div",{className:"pc-header",children:Object(G.jsxs)("div",{className:"row",children:[Object(G.jsx)("div",{className:"col-md-3 col-4 d-flex align-items-center",children:Object(G.jsx)(i.b,{className:"navbar-brand",to:"/",children:Object(G.jsx)("img",{alt:"logo",src:"/images/logo.png"})})}),Object(G.jsx)("div",{className:"col-md-6 col-8 d-flex align-items-center",children:Object(G.jsxs)("form",{onSubmit:m,className:"input-group",children:[Object(G.jsx)("input",{type:"search",className:"form-control rounded search",placeholder:"Buscar",onChange:function(e){return s(e.target.value)}}),Object(G.jsx)("button",{type:"submit",className:"search-button",children:"Buscar"})]})}),Object(G.jsxs)("div",{className:"col-md-3 d-flex align-items-center justify-content-end Login-Register",children:[u?Object(G.jsxs)("div",{className:"btn-group",children:[Object(G.jsxs)("button",{type:"button",className:"name-button dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:["Hola, ",u.name]}),Object(G.jsxs)("div",{className:"dropdown-menu",children:[Object(G.jsx)(i.b,{className:"dropdown-item",to:"/profile",children:"Perfil"}),Object(G.jsx)(i.b,{className:"dropdown-item",to:"#",onClick:b,children:"Cerrar sesi\xf3n"})]})]}):Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(i.b,{to:"/register",children:"Registrarse"}),Object(G.jsx)(i.b,{to:"/login",children:"Iniciar sesi\xf3n"})]}),Object(G.jsxs)(i.b,{to:"/cart",children:[Object(G.jsx)("i",{className:"fas fa-shopping-bag"}),Object(G.jsx)("span",{className:"badge",children:j.length})]})]})]})})]})})]})},Y=function(e){var t=e.value,c=e.text;return Object(G.jsxs)("div",{className:"rating",children:[Object(G.jsx)("i",{className:t>=1?"fas fa-star":t>=.5?"fas fa-star-half-alt":"far fa-star"}),Object(G.jsx)("i",{className:t>=2?"fas fa-star":t>=1.5?"fas fa-star-half-alt":"far fa-star"}),Object(G.jsx)("i",{className:t>=3?"fas fa-star":t>=2.5?"fas fa-star-half-alt":"far fa-star"}),Object(G.jsx)("i",{className:t>=4?"fas fa-star":t>=3.5?"fas fa-star-half-alt":"far fa-star"}),Object(G.jsx)("i",{className:t>=5?"fas fa-star":t>=4.5?"fas fa-star-half-alt":"far fa-star"}),Object(G.jsx)("span",{children:c&&c})]})},H=c(17),X=function(e){var t=e.page,c=e.pages,a=e.keyword,s=void 0===a?"":a;return c>1&&Object(G.jsx)("nav",{children:Object(G.jsx)("ul",{className:"pagination justify-content-center",children:Object(H.a)(Array(c).keys()).map((function(e){return Object(G.jsx)("li",{className:"page-item ".concat(e+1===t?"active":""),children:Object(G.jsx)(i.b,{className:"page-link",to:s?"/search/".concat(s,"/page/").concat(e+1):"/page/".concat(e+1),children:e+1})},e+1)}))})})},Z="PRODUCT_LIST_REQUEST",K="PRODUCT_LIST_SUCCESS",$="PRODUCT_LIST_FAIL",ee="PRODUCT_DETAILS_REQUEST",te="PRODUCT_DETAILS_SUCCESS",ce="PRODUCT_DETAILS_FAIL",ae="PRODUCT_CREATE_REVIEW_REQUEST",se="PRODUCT_CREATE_REVIEW_SUCCESS",re="PRODUCT_CREATE_REVIEW_FAIL",ne="PRODUCT_CREATE_REVIEW_RESET",ie=function(){return Object(G.jsx)("div",{className:"d-flex justify-content-center",children:Object(G.jsx)("div",{className:"spinner-border text-success",role:"status",style:{width:"50px",height:"50px"},children:Object(G.jsx)("span",{className:"sr-only",children:"Cargando..."})})})},oe=function(e){var t=e.variant,c=e.children;return Object(G.jsx)("div",{className:"alert ".concat(t),children:c})};oe.defaultProps={variant:"alert-info"};var le=oe,de=function(e){var t=e.keyword,c=e.pagenumber,s=Object(d.b)(),r=Object(d.c)((function(e){return e.productList})),n=r.loading,o=r.error,l=r.products,u=r.page,m=r.pages;return Object(a.useEffect)((function(){s(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:" ",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ";return function(){var c=Object(j.a)(b.a.mark((function c(a){var s,r;return b.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,a({type:Z}),c.next=4,C.a.get("https://deesgraze.herokuapp.com/api/products?keyword=".concat(e,"&pageNumber=").concat(t));case 4:s=c.sent,r=s.data,a({type:K,payload:r}),c.next=12;break;case 9:c.prev=9,c.t0=c.catch(0),a({type:$,payload:c.t0.response&&c.t0.response.data.message?c.t0.response.data.message:c.t0.message});case 12:case"end":return c.stop()}}),c,null,[[0,9]])})));return function(e){return c.apply(this,arguments)}}()}(t,c))}),[s,t,c]),Object(G.jsx)(G.Fragment,{children:Object(G.jsx)("div",{className:"container",children:Object(G.jsx)("div",{className:"section",children:Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col-lg-12 col-md-12 article",children:Object(G.jsxs)("div",{className:"shopcontainer row",children:[n?Object(G.jsx)("div",{className:"mb-5",children:Object(G.jsx)(ie,{})}):o?Object(G.jsx)(le,{variant:"alert-danger",children:o}):Object(G.jsx)(G.Fragment,{children:l.map((function(e){return Object(G.jsx)("div",{className:"shop col-lg-4 col-md-6 col-sm-6",children:Object(G.jsxs)("div",{className:"border-product",children:[Object(G.jsx)(i.b,{to:"/products/".concat(e._id),children:Object(G.jsx)("div",{className:"shopBack",children:Object(G.jsx)("img",{src:e.image,alt:e.name})})}),Object(G.jsxs)("div",{className:"shoptext",children:[Object(G.jsx)("p",{children:Object(G.jsx)(i.b,{to:"/products/".concat(e._id),children:e.name})}),Object(G.jsx)(Y,{value:e.rating,text:"".concat(e.numReviews," opiniones")}),Object(G.jsxs)("h3",{children:["S/",e.price]})]})]})},e._id)}))}),Object(G.jsx)(X,{pages:m,page:u,keyword:t||""})]})})})})})})},je=function(){return Object(G.jsx)("div",{className:"contactInfo container",children:Object(G.jsxs)("div",{className:"row contact_info_row_center",children:[Object(G.jsx)("div",{className:"col-12 col-md-4 contact-Box",children:Object(G.jsxs)("div",{className:"box-info",children:[Object(G.jsx)("div",{className:"info-image",children:Object(G.jsx)("i",{className:"fas fa-phone-alt"})}),Object(G.jsx)("h5",{children:"Deesgraze 24x7"}),Object(G.jsx)("p",{children:"+51 999 999 999"})]})}),Object(G.jsx)("div",{className:"col-12 col-md-4 contact-Box",children:Object(G.jsxs)("div",{className:"box-info",children:[Object(G.jsx)("div",{className:"info-image",children:Object(G.jsx)("i",{className:"fas fa-phone-alt"})}),Object(G.jsx)("h5",{children:"Soporte 24x7"}),Object(G.jsx)("p",{children:"+51 981 203 309"})]})})]})})},ue=function(){return Object(G.jsx)("div",{className:"subscribe-section bg-with-black",children:Object(G.jsx)("div",{className:"container",children:Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col-xs-12",children:Object(G.jsxs)("div",{className:"subscribe-head",children:[Object(G.jsx)("h2",{children:"Nosotros"}),Object(G.jsx)("p",{children:"Nacimos de ideas err\xf3neas convertidas en la pura divinidad expresada en nuestra forma de ver la moda peruana. Sin temor a corromper pensamientos. Deesgraze lleva detr\xe1s un trabajo de ideas poderosas, inusuales y magnificamente incorrectas. Cada prenda fue dise\xf1ada por nosotros, personas libres y con el suficiente mecanismo de defensa para deesestereotipar al mundo."})]})})})})})},be=function(){return Object(G.jsx)("div",{className:"footer",children:Object(G.jsxs)("div",{className:"justify-content-center d-flex",children:[Object(G.jsx)("div",{className:"card-name",children:Object(G.jsx)("img",{alt:"mastercard",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/b/b7/MasterCard_Logo.svg/1200px-MasterCard_Logo.svg.png"})}),Object(G.jsx)("div",{className:"card-name",children:Object(G.jsx)("img",{alt:"visa",src:"https://upload.wikimedia.org/wikipedia/commons/4/41/Visa_Logo.png"})}),Object(G.jsx)("div",{className:"card-name",children:Object(G.jsx)("img",{alt:"paypal",src:"https://pbs.twimg.com/media/EfTZlEnWAAMn1lX.png"})}),Object(G.jsx)("div",{className:"card-name",children:Object(G.jsx)("img",{alt:"express",src:"https://icons.iconarchive.com/icons/designbolts/credit-card-payment/256/American-Express-icon.png"})}),Object(G.jsx)("div",{className:"card-name",children:Object(G.jsx)("img",{alt:"discover",src:"https://icons-for-free.com/iconfiles/png/512/cash+checkout+discover+network+online+shopping+payment+method-1320191225548835050.png"})})]})})},me=function(e){var t=e.match;window.scrollTo(0,0);var c=t.params.keyword,a=t.params.pagenumber;return Object(G.jsxs)("div",{children:[Object(G.jsx)(V,{}),Object(G.jsx)(de,{keyword:c,pagenumber:a}),Object(G.jsx)(ue,{}),Object(G.jsx)(je,{}),Object(G.jsx)(be,{})]})},pe=c(14),he=c.n(pe),Oe=function(e){var t=e.history,c=e.match,s=Object(a.useState)(1),r=Object(l.a)(s,2),n=r[0],o=r[1],u=Object(a.useState)(0),m=Object(l.a)(u,2),p=m[0],h=m[1],O=Object(a.useState)(""),x=Object(l.a)(O,2),g=x[0],f=x[1],v=c.params.id,N=Object(d.b)(),y=Object(d.c)((function(e){return e.productDetails})),S=y.loading,w=y.error,E=y.product,I=Object(d.c)((function(e){return e.userLogin})).userInfo,_=Object(d.c)((function(e){return e.productReviewCreate})),R=_.loading,k=_.error,T=_.success;Object(a.useEffect)((function(){var e;T&&(alert("Opinion enviada"),h(0),f(""),N({type:ne})),N((e=v,function(){var t=Object(j.a)(b.a.mark((function t(c){var a,s;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:ee}),t.next=4,C.a.get("https://deesgraze.herokuapp.com/api/products/".concat(e));case 4:a=t.sent,s=a.data,c({type:te,payload:s}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),c({type:ce,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()))}),[N,v,T]);return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(V,{}),Object(G.jsx)("div",{className:"container single-product",children:S?Object(G.jsx)(ie,{}):w?Object(G.jsx)(le,{variant:"alert-danger",children:w}):Object(G.jsxs)(G.Fragment,{children:[Object(G.jsxs)("div",{className:"row",children:[Object(G.jsx)("div",{className:"col-md-6",children:Object(G.jsx)("div",{className:"single-image",children:Object(G.jsx)("img",{src:E.image,alt:E.name})})}),Object(G.jsx)("div",{className:"col-md-6",children:Object(G.jsxs)("div",{className:"product-dtl",children:[Object(G.jsx)("div",{className:"product-info",children:Object(G.jsx)("div",{className:"product-name",children:E.name})}),Object(G.jsx)("p",{children:E.description}),Object(G.jsxs)("div",{className:"product-count col-lg-7 ",children:[Object(G.jsxs)("div",{className:"flex-box d-flex justify-content-between align-items-center",children:[Object(G.jsx)("h6",{children:"Precio"}),Object(G.jsxs)("span",{children:["S/",E.price]})]}),Object(G.jsxs)("div",{className:"flex-box d-flex justify-content-between align-items-center",children:[Object(G.jsx)("h6",{children:"Estado"}),E.countInStock>0?Object(G.jsx)("span",{children:"En stock"}):Object(G.jsx)("span",{children:"Sin stock"})]}),Object(G.jsxs)("div",{className:"flex-box d-flex justify-content-between align-items-center",children:[Object(G.jsx)("h6",{children:"Opiniones"}),Object(G.jsx)(Y,{value:E.rating,text:"".concat(E.numReviews," reviews")})]}),E.countInStock>0?Object(G.jsxs)(G.Fragment,{children:[Object(G.jsxs)("div",{className:"flex-box d-flex justify-content-between align-items-center",children:[Object(G.jsx)("h6",{children:"Cantidad"}),Object(G.jsx)("select",{value:n,onChange:function(e){return o(e.target.value)},children:Object(H.a)(Array(E.countInStock).keys()).map((function(e){return Object(G.jsx)("option",{value:e+1,children:e+1},e+1)}))})]}),Object(G.jsx)("button",{onClick:function(e){e.preventDefault(),t.push("/cart/".concat(v,"?qty=").concat(n))},className:"round-black-btn",children:"A\xf1adir al carrito"})]}):null]})]})})]}),Object(G.jsxs)("div",{className:"row my-5",children:[Object(G.jsxs)("div",{className:"col-md-6",children:[Object(G.jsx)("h6",{className:"mb-3",children:"Opiniones"}),0===E.reviews.length&&Object(G.jsx)(le,{variant:"alert-info mt-3",children:"No hay opiniones"}),E.reviews.map((function(e){return Object(G.jsxs)("div",{className:"mb-5 mb-md-3 bg-light p-3 shadow-sm rounded",children:[Object(G.jsx)("strong",{children:e.name}),Object(G.jsx)(Y,{value:e.rating}),Object(G.jsx)("span",{children:he()(e.createdAt).calendar()}),Object(G.jsx)("div",{className:"alert alert-info mt-3",children:e.comment})]},e._id)}))]}),Object(G.jsxs)("div",{className:"col-md-6",children:[Object(G.jsx)("h6",{children:"Escribir una opinion"}),Object(G.jsxs)("div",{className:"my-4",children:[R&&Object(G.jsx)(ie,{}),k&&Object(G.jsx)(le,{variant:"alert-danger",children:k})]}),I?Object(G.jsxs)("form",{onSubmit:function(e){e.preventDefault(),N(function(e,t){return function(){var c=Object(j.a)(b.a.mark((function c(a,s){var r,n,i,o;return b.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,a({type:ae}),r=s(),n=r.userLogin.userInfo,i={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n.token)}},c.next=6,C.a.post("https://deesgraze.herokuapp.com/api/products/".concat(e,"/review"),t,i);case 6:a({type:se}),c.next=14;break;case 9:c.prev=9,c.t0=c.catch(0),"Not authorized, token failed"===(o=c.t0.response&&c.t0.response.data.message?c.t0.response.data.message:c.t0.message)&&a(W()),a({type:re,payload:o});case 14:case"end":return c.stop()}}),c,null,[[0,9]])})));return function(e,t){return c.apply(this,arguments)}}()}(v,{rating:p,comment:g}))},children:[Object(G.jsxs)("div",{className:"my-4",children:[Object(G.jsx)("strong",{children:"Calificacion"}),Object(G.jsxs)("select",{value:p,onChange:function(e){return h(e.target.value)},className:"col-12 bg-light p-3 mt-2 border-0 rounded",children:[Object(G.jsx)("option",{value:"",children:"Seleccionar..."}),Object(G.jsx)("option",{value:"1",children:"1 - Malo"}),Object(G.jsx)("option",{value:"2",children:"2 - No tan malo"}),Object(G.jsx)("option",{value:"3",children:"3 - Bueno"}),Object(G.jsx)("option",{value:"4",children:"4 - Muy bueno"}),Object(G.jsx)("option",{value:"5",children:"5 - Exelente"})]})]}),Object(G.jsxs)("div",{className:"my-4",children:[Object(G.jsx)("strong",{children:"Comentario"}),Object(G.jsx)("textarea",{row:"3",value:g,onChange:function(e){return f(e.target.value)},className:"col-12 bg-light p-3 mt-2 border-0 rounded"})]}),Object(G.jsx)("div",{className:"my-3",children:Object(G.jsx)("button",{disabled:R,className:"col-12 bg-black border-0 p-3 rounded text-white",children:"Enviar"})})]}):Object(G.jsx)("div",{className:"my-3",children:Object(G.jsxs)(le,{variant:"alert-warning",children:["Por favor"," ",Object(G.jsxs)(i.b,{to:"/login",children:['" ',Object(G.jsx)("strong",{children:"Iniciar sesi\xf3n"}),' "']})," ","Para escribir una opinion"," "]})})]})]})]})})]})},xe=function(e){var t=e.location,c=e.history;window.scrollTo(0,0);var s=Object(a.useState)(""),r=Object(l.a)(s,2),n=r[0],o=r[1],u=Object(a.useState)(""),O=Object(l.a)(u,2),x=O[0],g=O[1],f=Object(d.b)(),v=t.search?t.search.split("=")[1]:"/",N=Object(d.c)((function(e){return e.userLogin})),y=N.error,S=N.loading,w=N.userInfo;Object(a.useEffect)((function(){w&&c.push(v)}),[w,c,v]);return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(V,{}),Object(G.jsxs)("div",{className:"container d-flex flex-column justify-content-center align-items-center login-center",children:[y&&Object(G.jsx)(le,{variant:"alert-danger",children:y}),S&&Object(G.jsx)(ie,{}),Object(G.jsxs)("form",{className:"Login col-md-8 col-lg-4 col-11",onSubmit:function(e){e.preventDefault(),f(function(e,t){return function(){var c=Object(j.a)(b.a.mark((function c(a){var s,r,n;return b.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,a({type:m}),s={headers:{"Content-Type":"application/json"}},c.next=5,C.a.post("https://deesgraze.herokuapp.com/api/users/login",{email:e,password:t},s);case 5:r=c.sent,n=r.data,a({type:p,payload:n}),localStorage.setItem("userInfo",JSON.stringify(n)),c.next=14;break;case 11:c.prev=11,c.t0=c.catch(0),a({type:h,payload:c.t0.response&&c.t0.response.data.message?c.t0.response.data.message:c.t0.message});case 14:case"end":return c.stop()}}),c,null,[[0,11]])})));return function(e){return c.apply(this,arguments)}}()}(n,x))},children:[Object(G.jsx)("input",{type:"email",placeholder:"Email",value:n,onChange:function(e){return o(e.target.value)}}),Object(G.jsx)("input",{type:"password",placeholder:"Contrase\xf1a",value:x,onChange:function(e){return g(e.target.value)}}),Object(G.jsx)("button",{type:"submit",children:"Iniciar sesi\xf3n"}),Object(G.jsx)("p",{children:Object(G.jsx)(i.b,{to:v?"/register?redirect=".concat(v):"/register",children:"Crear cuenta"})})]})]})]})},ge=function(e){var t=e.location,c=e.history;window.scrollTo(0,0);var s=Object(a.useState)(""),r=Object(l.a)(s,2),n=r[0],o=r[1],u=Object(a.useState)(""),m=Object(l.a)(u,2),h=m[0],O=m[1],v=Object(a.useState)(""),N=Object(l.a)(v,2),y=N[0],S=N[1],w=Object(d.b)(),E=t.search?t.search.split("=")[1]:"/",I=Object(d.c)((function(e){return e.userRegister})),_=I.error,R=I.loading,k=I.userInfo;Object(a.useEffect)((function(){k&&c.push(E)}),[k,c,E]);return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(V,{}),Object(G.jsxs)("div",{className:"container d-flex flex-column justify-content-center align-items-center login-center",children:[_&&Object(G.jsx)(le,{variant:"alert-danger",children:_}),R&&Object(G.jsx)(ie,{}),Object(G.jsxs)("form",{className:"Login col-md-8 col-lg-4 col-11",onSubmit:function(e){e.preventDefault(),w(function(e,t,c){return function(){var a=Object(j.a)(b.a.mark((function a(s){var r,n,i;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,s({type:x}),r={headers:{"Content-Type":"application/json"}},a.next=5,C.a.post("https://deesgraze.herokuapp.com/api/users",{name:e,email:t,password:c},r);case 5:n=a.sent,i=n.data,s({type:g,payload:i}),s({type:p,payload:i}),localStorage.setItem("userInfo",JSON.stringify(i)),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(0),s({type:f,payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 15:case"end":return a.stop()}}),a,null,[[0,12]])})));return function(e){return a.apply(this,arguments)}}()}(n,h,y))},children:[Object(G.jsx)("input",{type:"text",placeholder:"Nombre de usuario",value:n,onChange:function(e){return o(e.target.value)}}),Object(G.jsx)("input",{type:"email",placeholder:"Email",value:h,onChange:function(e){return O(e.target.value)}}),Object(G.jsx)("input",{type:"password",placeholder:"Contrase\xf1a",value:y,onChange:function(e){return S(e.target.value)}}),Object(G.jsx)("button",{type:"submit",children:"Registrarse"}),Object(G.jsx)("p",{children:Object(G.jsxs)(i.b,{to:E?"/login?redirect=".concat(E):"/login",children:["Tengo una cuenta, ",Object(G.jsx)("strong",{children:"Iniciar sesion"})]})})]})]})]})},fe="CART_ADD_ITEM",ve="CART_REMOVE_ITEM",Ne="CART_CLEAR_ITEMS",ye="CART_SAVE_SHIPPING_ADDRESS",Se="CART_SAVE_PAYMENT_METHOD",we=function(e,t,c){return function(){var a=Object(j.a)(b.a.mark((function a(s,r){var n,i;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C.a.get("https://deesgraze.herokuapp.com/api/products/".concat(e));case 2:n=a.sent,i=n.data,s({type:fe,payload:{product:i._id,name:i.name,image:i.image,price:i.price,countInStock:i.countInStock,qty:t,talla:c,tallas:i.tallas}}),localStorage.setItem("cartItems",JSON.stringify(r().cart.cartItems));case 6:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},Ee=function(e){var t=e.match,c=e.location,s=e.history;window.scrollTo(0,0);var r=Object(d.b)(),n=t.params.id,o=c.search?Number(c.search.split("=")[1]):1,l=Object(d.c)((function(e){return e.cart})).cartItems,j=l.reduce((function(e,t){return e+t.qty*t.price}),0).toFixed(2);Object(a.useEffect)((function(){n&&r(we(n,o,""))}),[r,n,o,""]);var u=function(e){r(function(e){return function(t,c){t({type:ve,payload:e}),localStorage.setItem("cartItems",JSON.stringify(c().cart.cartItems))}}(e))};return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(V,{}),Object(G.jsx)("div",{className:"container",children:0===l.length?Object(G.jsxs)("div",{className:" alert alert-info text-center mt-3",children:["Tu carrito esta vacio",Object(G.jsx)(i.b,{className:"btn btn-success mx-5 px-5 py-3",to:"/",style:{fontSize:"12px"},children:"Comprar ahora"})]}):Object(G.jsxs)(G.Fragment,{children:[Object(G.jsxs)("div",{className:" alert alert-info text-center mt-3",children:["Total de productos",Object(G.jsxs)(i.b,{className:"text-success mx-2",to:"/cart",children:["(",l.length,")"]})]}),l.map((function(e){return Object(G.jsxs)("div",{className:"classOwo cart-iterm row flexWrapNoWrap",children:[Object(G.jsx)("div",{onClick:function(){return u(e.product)},className:"remove-button d-flex justify-content-center align-items-center",children:Object(G.jsx)("i",{className:"fas fa-times"})}),Object(G.jsx)("div",{className:"cart-image col-md-3",children:Object(G.jsx)("img",{src:e.image,alt:e.name})}),Object(G.jsx)("div",{className:"cart-text col-md-5 d-flex align-items-center menosWidth",children:Object(G.jsx)(i.b,{to:"/products/".concat(e.product),children:Object(G.jsx)("h4",{children:e.name})})}),Object(G.jsxs)("div",{className:"cart-qty col-md-2 col-sm-5 mt-md-5 mt-3 mt-md-0 d-flex flex-column justify-content-center",children:[Object(G.jsx)("h6",{children:"Cantidad"}),Object(G.jsx)("select",{value:e.qty,onChange:function(t){return r(we(e.product,Number(t.target.value)))},children:Object(H.a)(Array(e.countInStock).keys()).map((function(e){return Object(G.jsx)("option",{value:e+1,children:e+1},e+1)}))})]}),Object(G.jsxs)("div",{className:"cart-qty col-md-2 col-sm-5 mt-md-5 mt-3 mt-md-0 d-flex flex-column justify-content-center",children:[Object(G.jsx)("h6",{children:"Talla"}),Object(G.jsxs)("select",{value:e.talla,onChange:function(t){return r(we(e.product,e.qty,t.target.value))},children:[Object(G.jsx)("option",{value:"seleccionar talla",children:"seleccionar talla"},"seleccionar talla"),e.tallas.map((function(e){return Object(G.jsx)("option",{value:e,children:e},e)}))]})]}),Object(G.jsxs)("div",{className:"cart-price mt-3 mt-md-0 col-md-2 menosWidth align-items-sm-end align-items-start  d-flex flex-column justify-content-center col-sm-7",children:[Object(G.jsx)("h6",{children:"Precio"}),Object(G.jsxs)("h4",{children:["S/",e.price]})]})]})})),Object(G.jsxs)("div",{className:"total",children:[Object(G.jsx)("span",{className:"sub",children:"total:"}),Object(G.jsxs)("span",{className:"total-price",children:["S/",j]})]}),Object(G.jsx)("hr",{}),Object(G.jsxs)("div",{className:"cart-buttons d-flex align-items-center row",children:[Object(G.jsx)(i.b,{to:"/",className:"col-md-6 ",children:Object(G.jsx)("button",{children:"Continuar comprando"})}),j>0&&Object(G.jsx)("div",{className:"col-md-6 d-flex justify-content-md-end mt-3 mt-md-0",children:Object(G.jsx)("button",{onClick:function(){s.push("/login?redirect=shipping")},children:"Pagar"})})]})]})})]})},Ie=function(e){var t=e.history;window.scrollTo(0,0);var c=Object(d.c)((function(e){return e.cart})).shippingAddress,s=Object(a.useState)(c.pais),r=Object(l.a)(s,2),n=r[0],i=r[1],o=Object(a.useState)(c.nombre_completo),j=Object(l.a)(o,2),u=j[0],b=j[1],m=Object(a.useState)(c.direccion),p=Object(l.a)(m,2),h=p[0],O=p[1],x=Object(a.useState)(c.ciudad),g=Object(l.a)(x,2),f=g[0],v=g[1],N=Object(a.useState)(c.provincia),y=Object(l.a)(N,2),S=y[0],w=y[1],E=Object(a.useState)(c.celular),I=Object(l.a)(E,2),_=I[0],C=I[1],R=Object(d.b)();return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(V,{}),Object(G.jsx)("div",{className:"container d-flex justify-content-center align-items-center login-center",children:Object(G.jsxs)("form",{className:"Login shippingScreen col-md-8 col-lg-4 col-11",onSubmit:function(e){var c;e.preventDefault(),R((c={pais:n,nombre_completo:u,direccion:h,ciudad:f,provincia:S,celular:_},function(e){e({type:ye,payload:c}),localStorage.setItem("shippingAddress",JSON.stringify(c))})),t.push("/payment")},children:[Object(G.jsx)("h6",{children:"Direccion de envio"}),Object(G.jsx)("input",{type:"text",placeholder:"Pais",value:n,required:!0,onChange:function(e){return i(e.target.value)}}),Object(G.jsx)("input",{type:"text",placeholder:"Nombre completo",value:u,required:!0,onChange:function(e){return b(e.target.value)}}),Object(G.jsx)("input",{type:"text",className:"large-text",placeholder:"Direccion fisica, apartamento, unidad, piso",value:h,required:!0,onChange:function(e){return O(e.target.value)}}),Object(G.jsx)("input",{type:"text",placeholder:"Departamento. ej: lima",value:S,required:!0,onChange:function(e){return w(e.target.value)}}),Object(G.jsx)("input",{type:"text",placeholder:"Distrito. ej: comas",value:f,required:!0,onChange:function(e){return v(e.target.value)}}),Object(G.jsx)("input",{type:"text",placeholder:"Numero de celular",value:_,required:!0,onChange:function(e){return C(e.target.value)}}),Object(G.jsx)("button",{type:"submit",children:"Continuar"})]})})]})},_e=c(18),Ce=function(){return Object(G.jsxs)("div",{children:[Object(G.jsx)(_e.a,{position:"top-right",hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1}),Object(G.jsx)(_e.a,{})]})},Re=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),c=t[0],r=t[1],n=Object(a.useState)(""),i=Object(l.a)(n,2),o=i[0],u=i[1],m=Object(a.useState)(""),h=Object(l.a)(m,2),O=h[0],x=h[1],g=Object(a.useState)(""),f=Object(l.a)(g,2),v=f[0],N=f[1],y=s.a.useRef(null),S={pauseOnFocusLoss:!1,draggable:!1,pauseOnHover:!1,autoClose:2e3},_=Object(d.b)(),R=Object(d.c)((function(e){return e.userDetails})),k=R.loading,T=R.error,A=R.user,P=Object(d.c)((function(e){return e.userUpdateProfile})).loading;Object(a.useEffect)((function(){A&&(r(A.name),u(A.email))}),[_,A]);return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(Ce,{}),T&&Object(G.jsx)(le,{variant:"alert-danger",children:T}),k&&Object(G.jsx)(ie,{}),P&&Object(G.jsx)(ie,{}),Object(G.jsxs)("form",{className:"row  form-container",onSubmit:function(e){e.preventDefault(),O!==v?_e.b.isActive(y.current)||(y.current=_e.b.error("Contrase\xf1as no coinciden",S)):(_(function(e){return function(){var t=Object(j.a)(b.a.mark((function t(c,a){var s,r,n,i,o,l;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:w}),s=a(),r=s.userLogin.userInfo,n={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r.token)}},t.next=6,C.a.put("https://deesgraze.herokuapp.com/api/users/profile",e,n);case 6:i=t.sent,o=i.data,c({type:E,payload:o}),c({type:p,payload:o}),localStorage.setItem("userInfo",JSON.stringify(o)),t.next=18;break;case 13:t.prev=13,t.t0=t.catch(0),"Not authorized, token failed"===(l=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&c(W()),c({type:I,payload:l});case 18:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,c){return t.apply(this,arguments)}}()}({id:A._id,name:c,email:o,password:O})),_e.b.isActive(y.current)||(y.current=_e.b.success("Perfil actualizado",S)))},children:[Object(G.jsx)("div",{className:"col-md-6",children:Object(G.jsxs)("div",{className:"form",children:[Object(G.jsx)("label",{for:"account-fn",children:"Usuario"}),Object(G.jsx)("input",{className:"form-control",type:"text",required:!0,value:c,onChange:function(e){return r(e.target.value)}})]})}),Object(G.jsx)("div",{className:"col-md-6",children:Object(G.jsxs)("div",{className:"form",children:[Object(G.jsx)("label",{for:"account-email",children:"E-mail"}),Object(G.jsx)("input",{className:"form-control",type:"email",value:o,required:!0,onChange:function(e){return u(e.target.value)}})]})}),Object(G.jsx)("div",{className:"col-md-6",children:Object(G.jsxs)("div",{className:"form",children:[Object(G.jsx)("label",{for:"account-pass",children:"Nueva contrase\xf1a"}),Object(G.jsx)("input",{className:"form-control",type:"password",value:O,onChange:function(e){return x(e.target.value)}})]})}),Object(G.jsx)("div",{className:"col-md-6",children:Object(G.jsxs)("div",{className:"form",children:[Object(G.jsx)("label",{for:"account-confirm-pass",children:"Confirmar contrase\xf1a"}),Object(G.jsx)("input",{className:"form-control",type:"password",value:v,onChange:function(e){return N(e.target.value)}})]})}),Object(G.jsx)("button",{type:"submit",children:"Actualizar perfil"})]})]})},ke=function(e){var t=e.loading,c=e.error,a=e.orders;return Object(G.jsx)("div",{className:" d-flex justify-content-center align-items-center flex-column",children:t?Object(G.jsx)(ie,{}):c?Object(G.jsx)(le,{variant:"alert-danger",children:c}):Object(G.jsx)(G.Fragment,{children:0===a.length?Object(G.jsxs)("div",{className:"col-12 alert alert-info text-center mt-3",children:["No hay ordenes",Object(G.jsx)(i.b,{className:"btn btn-success mx-2 px-3 py-2",to:"/",style:{fontSize:"12px"},children:"Comprar"})]}):Object(G.jsx)("div",{className:"table-responsive",children:Object(G.jsxs)("table",{className:"table",children:[Object(G.jsx)("thead",{children:Object(G.jsxs)("tr",{children:[Object(G.jsx)("th",{children:"ID"}),Object(G.jsx)("th",{children:"ESTADO"}),Object(G.jsx)("th",{children:"FECHA"}),Object(G.jsx)("th",{children:"TOTAL"})]})}),Object(G.jsx)("tbody",{children:a.map((function(e){return Object(G.jsxs)("tr",{className:"".concat(e.isPaid?"alert-success":"alert-danger"),children:[Object(G.jsx)("td",{children:Object(G.jsx)("a",{href:"/#/order/".concat(e._id),className:"link",children:e._id})}),Object(G.jsx)("td",{children:e.isPaid?Object(G.jsx)(G.Fragment,{children:"Pagado"}):Object(G.jsx)(G.Fragment,{children:"Por pagar"})}),Object(G.jsx)("td",{children:e.isPaid?he()(e.paidAt).calendar():he()(e.createdAt).calendar()}),Object(G.jsxs)("td",{children:["S/",e.totalPrice]})]},e._id)}))})]})})})})},Te=function(){window.scrollTo(0,0);var e=Object(d.b)(),t=Object(d.c)((function(e){return e.userLogin})).userInfo,c=Object(d.c)((function(e){return e.orderListMy})),s=c.loading,r=c.error,n=c.orders;return Object(a.useEffect)((function(){var t;e(function(){var e=Object(j.a)(b.a.mark((function e(t,c){var a,s,r,n,i,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:q}),a=c(),s=a.userLogin.userInfo,r={headers:{Authorization:"Bearer ".concat(s.token)}},e.next=6,C.a.get("https://deesgraze.herokuapp.com/api/orders/",r);case 6:n=e.sent,i=n.data,t({type:B,payload:i}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),"Not authorized, token failed"===(o=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message)&&t(W()),t({type:J,payload:o});case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,c){return e.apply(this,arguments)}}()),e((t="profile",function(){var e=Object(j.a)(b.a.mark((function e(c,a){var s,r,n,i,o,l;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:v}),s=a(),r=s.userLogin.userInfo,n={headers:{Authorization:"Bearer ".concat(r.token)}},e.next=6,C.a.get("https://deesgraze.herokuapp.com/api/users/".concat(t),n);case 6:i=e.sent,o=i.data,c({type:N,payload:o}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),"Not authorized, token failed"===(l=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message)&&c(W()),c({type:y,payload:l});case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,c){return e.apply(this,arguments)}}()))}),[e]),Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(V,{}),Object(G.jsx)("div",{className:"container mt-lg-5 mt-3",children:Object(G.jsxs)("div",{className:"row align-items-start",children:[Object(G.jsxs)("div",{className:"col-lg-4 p-0 shadow ",children:[Object(G.jsxs)("div",{className:"author-card pb-0 pb-md-3",children:[Object(G.jsx)("div",{className:"author-card-cover"}),Object(G.jsxs)("div",{className:"author-card-profile row",children:[Object(G.jsx)("div",{className:"author-card-avatar col-md-5",children:Object(G.jsx)("img",{src:"./images/user.png",alt:"userprofileimage"})}),Object(G.jsxs)("div",{className:"author-card-details col-md-7",children:[Object(G.jsx)("h5",{className:"author-card-name mb-2",children:Object(G.jsx)("strong",{children:t.name})}),Object(G.jsx)("span",{className:"author-card-position",children:Object(G.jsxs)(G.Fragment,{children:["ingreso ",he()(t.createdAt).format("LL")]})})]})]})]}),Object(G.jsx)("div",{className:"wizard pt-3 ",children:Object(G.jsx)("div",{class:"d-flex align-items-start",children:Object(G.jsxs)("div",{class:"nav align-items-start flex-column col-12 nav-pills me-3 ",id:"v-pills-tab",role:"tablist","aria-orientation":"vertical",children:[Object(G.jsx)("button",{class:"nav-link active",id:"v-pills-home-tab","data-bs-toggle":"pill","data-bs-target":"#v-pills-home",type:"button",role:"tab","aria-controls":"v-pills-home","aria-selected":"true",children:"Configuracion de perfil"}),Object(G.jsxs)("button",{class:"nav-link d-flex justify-content-between",id:"v-pills-profile-tab","data-bs-toggle":"pill","data-bs-target":"#v-pills-profile",type:"button",role:"tab","aria-controls":"v-pills-profile","aria-selected":"false",children:["Lista de pedidos",Object(G.jsx)("span",{className:"badge2",children:n?n.length:0})]})]})})})]}),Object(G.jsxs)("div",{class:"tab-content col-lg-8 pb-5 pt-lg-0 pt-3",id:"v-pills-tabContent",children:[Object(G.jsx)("div",{class:"tab-pane fade show active",id:"v-pills-home",role:"tabpanel","aria-labelledby":"v-pills-home-tab",children:Object(G.jsx)(Re,{})}),Object(G.jsx)("div",{class:"tab-pane fade",id:"v-pills-profile",role:"tabpanel","aria-labelledby":"v-pills-profile-tab",children:Object(G.jsx)(ke,{orders:n,loading:s,error:r})})]})]})})]})},Ae=function(e){var t=e.history;window.scrollTo(0,0),Object(d.c)((function(e){return e.cart})).shippingAddress||t.push("/shipping");var c=Object(a.useState)("PayPal"),s=Object(l.a)(c,2),r=s[0],n=s[1],i=Object(d.b)();return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(V,{}),Object(G.jsx)("div",{className:"container d-flex justify-content-center align-items-center login-center",children:Object(G.jsxs)("form",{className:"Login2 col-md-8 col-lg-4 col-11",onSubmit:function(e){var c;e.preventDefault(),i((c=r,function(e){e({type:Se,payload:c}),localStorage.setItem("paymentMethod",JSON.stringify(c))})),t.push("/placeorder")},children:[Object(G.jsx)("h6",{children:"SELECCIONAR METODO DE PAGO"}),Object(G.jsx)("div",{className:"payment-container",children:Object(G.jsxs)("div",{className:"radio-container",children:[Object(G.jsx)("input",{className:"form-check-input",type:"radio",value:r,onChange:function(e){return n(e.target.value)}}),Object(G.jsx)("label",{className:"form-check-label",children:"PayPal o tarjeta de credito"})]})}),Object(G.jsx)("button",{type:"submit",children:"Continuar"})]})})]})},Pe=function(e){var t=e.history;window.scrollTo(0,0);var c,s=Object(d.b)(),r=Object(d.c)((function(e){return e.cart})),n=Object(d.c)((function(e){return e.userLogin})).userInfo;r.itemsPrice=(c=r.cartItems.reduce((function(e,t){return e+t.price*t.qty}),0),(Math.round(100*c)/100).toFixed(2)),r.shippingPrice="lima"==r.shippingAddress.provincia||"Lima"==r.shippingAddress.provincia||"LIMA"==r.shippingAddress.provincia?8:18,r.totalPrice=(Number(r.itemsPrice)+Number(r.shippingPrice)).toFixed(2);var o=Object(d.c)((function(e){return e.orderCreate})),l=o.order,u=o.success,m=o.error;Object(a.useEffect)((function(){u&&(t.push("/order/".concat(l._id)),s({type:A}))}),[t,s,u,l]);return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(V,{}),Object(G.jsxs)("div",{className:"container",children:[Object(G.jsxs)("div",{className:"row  order-detail",children:[Object(G.jsx)("div",{className:"col-lg-4 col-sm-4 mb-lg-4 mb-5 mb-sm-0",children:Object(G.jsxs)("div",{className:"row ",children:[Object(G.jsx)("div",{className:"col-md-4 center",children:Object(G.jsx)("div",{className:"alert-success order-box",children:Object(G.jsx)("i",{class:"fas fa-user"})})}),Object(G.jsxs)("div",{className:"col-md-8 center",children:[Object(G.jsx)("h5",{children:Object(G.jsx)("strong",{children:"Usuario"})}),Object(G.jsx)("p",{children:n.name}),Object(G.jsx)("p",{children:n.email})]})]})}),Object(G.jsx)("div",{className:"col-lg-4 col-sm-4 mb-lg-4 mb-5 mb-sm-0",children:Object(G.jsxs)("div",{className:"row",children:[Object(G.jsx)("div",{className:"col-md-4 center",children:Object(G.jsx)("div",{className:"alert-success order-box",children:Object(G.jsx)("i",{className:"fas fa-truck-moving"})})}),Object(G.jsxs)("div",{className:"col-md-8 center",children:[Object(G.jsx)("h5",{children:Object(G.jsx)("strong",{children:"Informacion de pedido"})}),Object(G.jsxs)("p",{children:["Metodo de pago: ",r.paymentMethod]})]})]})}),Object(G.jsx)("div",{className:"col-lg-4 col-sm-4 mb-lg-4 mb-5 mb-sm-0",children:Object(G.jsxs)("div",{className:"row",children:[Object(G.jsx)("div",{className:"col-md-4 center",children:Object(G.jsx)("div",{className:"alert-success order-box",children:Object(G.jsx)("i",{className:"fas fa-map-marker-alt"})})}),Object(G.jsxs)("div",{className:"col-md-8 center",children:[Object(G.jsx)("h5",{children:Object(G.jsx)("strong",{children:"Enviar a:"})}),Object(G.jsxs)("p",{children:["Direccion: ",r.shippingAddress.provincia,","," ",r.shippingAddress.ciudad,","," ",r.shippingAddress.direccion]})]})]})})]}),Object(G.jsxs)("div",{className:"row order-products justify-content-between",children:[Object(G.jsx)("div",{className:"col-lg-8",children:0===r.cartItems.length?Object(G.jsx)(le,{variant:"alert-info mt-5",children:"Tu carrito esta vacio"}):Object(G.jsx)(G.Fragment,{children:r.cartItems.map((function(e,t){return Object(G.jsxs)("div",{className:"order-product row",children:[Object(G.jsx)("div",{className:"col-md-3 col-6",children:Object(G.jsx)("img",{src:e.image,alt:e.name})}),Object(G.jsx)("div",{className:"col-md-5 itemMenosWidth col-6 d-flex align-items-center",children:Object(G.jsx)(i.b,{to:"/products/".concat(e.product),children:Object(G.jsx)("h6",{children:e.name})})}),Object(G.jsxs)("div",{className:"mt-3 mt-md-0 col-md-2 col-6  d-flex align-items-center flex-column justify-content-center ",children:[Object(G.jsx)("h4",{children:"Cantidad"}),Object(G.jsx)("h6",{children:e.qty})]}),Object(G.jsxs)("div",{className:"mt-3 mt-md-0 col-md-2 col-6  d-flex align-items-center flex-column justify-content-center ",children:[Object(G.jsx)("h4",{children:"Talla"}),Object(G.jsx)("h6",{children:e.talla})]}),Object(G.jsxs)("div",{className:"mt-3 mt-md-0 col-md-2 col-6 align-items-end  d-flex flex-column justify-content-center ",children:[Object(G.jsx)("h4",{children:"SubTotal"}),Object(G.jsxs)("h6",{children:["S/",(e.qty*e.price).toFixed(2)]})]})]},t)}))})}),Object(G.jsxs)("div",{className:"col-lg-3 d-flex align-items-end flex-column mt-5 subtotal-order",children:[Object(G.jsx)("table",{className:"table table-bordered",children:Object(G.jsxs)("tbody",{children:[Object(G.jsxs)("tr",{children:[Object(G.jsx)("td",{children:Object(G.jsx)("strong",{children:"Productos"})}),Object(G.jsxs)("td",{children:["S/",r.itemsPrice]})]}),Object(G.jsxs)("tr",{children:[Object(G.jsx)("td",{children:Object(G.jsx)("strong",{children:"Envio"})}),Object(G.jsxs)("td",{children:["S/",r.shippingPrice]})]}),Object(G.jsxs)("tr",{children:[Object(G.jsx)("td",{children:Object(G.jsx)("strong",{children:"Total"})}),Object(G.jsxs)("td",{children:["S/",r.totalPrice]})]})]})}),0===r.cartItems.length?null:Object(G.jsx)("button",{type:"submit",onClick:function(){s(function(e){return function(){var t=Object(j.a)(b.a.mark((function t(c,a){var s,r,n,i,o,l;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:R}),s=a(),r=s.userLogin.userInfo,n={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r.token)}},t.next=6,C.a.post("https://deesgraze.herokuapp.com/api/orders",e,n);case 6:i=t.sent,o=i.data,c({type:k,payload:o}),c({type:Ne,payload:o}),localStorage.removeItem("cartItems"),t.next=18;break;case 13:t.prev=13,t.t0=t.catch(0),"Not authorized, token failed"===(l=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&c(W()),c({type:T,payload:l});case 18:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,c){return t.apply(this,arguments)}}()}({orderItems:r.cartItems,shippingAddress:r.shippingAddress,paymentMethod:r.paymentMethod,itemsPrice:r.itemsPrice,shippingPrice:r.shippingPrice,totalPrice:r.totalPrice}))},children:"Realizar pedido"}),m&&Object(G.jsx)("div",{className:"my-3 col-12",children:Object(G.jsx)(le,{variant:"alert-danger",children:m})})]})]})]})]})},De=c(40),Le=function(e){var t=e.match;window.scrollTo(0,0);var c,s=Object(a.useState)(!1),r=Object(l.a)(s,2),n=r[0],o=r[1],u=t.params.id,m=Object(d.b)(),p=Object(d.c)((function(e){return e.orderDetails})),h=p.order,O=p.loading,x=p.error,g=Object(d.c)((function(e){return e.orderPay})),f=g.loading,v=g.success;if(!O){h.itemsPrice=(c=h.orderItems.reduce((function(e,t){return e+t.price*t.qty}),0),(Math.round(100*c)/100).toFixed(2))}Object(a.useEffect)((function(){var e,t=function(){var e=Object(j.a)(b.a.mark((function e(){var t,c,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.get("https://deesgraze.herokuapp.com/api/config/paypal");case 2:t=e.sent,c=t.data,(a=document.createElement("script")).type="text/javascript",a.src="https://www.paypal.com/sdk/js?client-id=".concat(c),a.async=!0,a.onload=function(){o(!0)},document.body.appendChild(a);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();!h||v?(m({type:M}),m((e=u,function(){var t=Object(j.a)(b.a.mark((function t(c,a){var s,r,n,i,o,l;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:P}),s=a(),r=s.userLogin.userInfo,n={headers:{Authorization:"Bearer ".concat(r.token)}},t.next=6,C.a.get("https://deesgraze.herokuapp.com/api/orders/".concat(e),n);case 6:i=t.sent,o=i.data,c({type:D,payload:o}),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(0),"Not authorized, token failed"===(l=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&c(W()),c({type:L,payload:l});case 16:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,c){return t.apply(this,arguments)}}()))):h.isPaid||(window.paypal?o(!0):t())}),[m,u,v,h]);return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(V,{}),Object(G.jsx)("div",{className:"container",children:O?Object(G.jsx)(ie,{}):x?Object(G.jsx)(le,{variant:"alert-danger",children:x}):Object(G.jsxs)(G.Fragment,{children:[Object(G.jsxs)("div",{className:"row  order-detail",children:[Object(G.jsx)("div",{className:"col-lg-4 col-sm-4 mb-lg-4 mb-5 mb-sm-0",children:Object(G.jsxs)("div",{className:"row",children:[Object(G.jsx)("div",{className:"col-md-4 center",children:Object(G.jsx)("div",{className:"alert-success order-box",children:Object(G.jsx)("i",{className:"fas fa-user"})})}),Object(G.jsxs)("div",{className:"col-md-8 center",children:[Object(G.jsx)("h5",{children:Object(G.jsx)("strong",{children:"Usuario"})}),Object(G.jsx)("p",{children:h.user.name}),Object(G.jsx)("p",{children:Object(G.jsx)("a",{href:"mailto:".concat(h.user.email),children:h.user.email})})]})]})}),Object(G.jsx)("div",{className:"col-lg-4 col-sm-4 mb-lg-4 mb-5 mb-sm-0",children:Object(G.jsxs)("div",{className:"row",children:[Object(G.jsx)("div",{className:"col-md-4 center",children:Object(G.jsx)("div",{className:"alert-success order-box",children:Object(G.jsx)("i",{className:"fas fa-truck-moving"})})}),Object(G.jsxs)("div",{className:"col-md-8 center",children:[Object(G.jsx)("h5",{children:Object(G.jsx)("strong",{children:"Informacion de pedido"})}),Object(G.jsxs)("p",{children:["Metodo de pago: ",h.paymentMethod]}),h.isPaid?Object(G.jsx)("div",{className:"bg-info p-2 col-12",children:Object(G.jsxs)("p",{className:"text-white text-center text-sm-start",children:["pagado el: ",he()(h.paidAt).calendar()]})}):Object(G.jsx)("div",{className:"bg-danger p-2 col-12",children:Object(G.jsx)("p",{className:"text-white text-center text-sm-start",children:"Por pagar"})})]})]})}),Object(G.jsx)("div",{className:"col-lg-4 col-sm-4 mb-lg-4 mb-5 mb-sm-0",children:Object(G.jsxs)("div",{className:"row",children:[Object(G.jsx)("div",{className:"col-md-4 center",children:Object(G.jsx)("div",{className:"alert-success order-box",children:Object(G.jsx)("i",{className:"fas fa-map-marker-alt"})})}),Object(G.jsxs)("div",{className:"col-md-8 center",children:[Object(G.jsx)("h5",{children:Object(G.jsx)("strong",{children:"Enviar a:"})}),Object(G.jsxs)("p",{children:["Direccion: ",h.shippingAddress.provincia,","," ",h.shippingAddress.ciudad,","," ",h.shippingAddress.direccion]}),h.isDelivered?Object(G.jsx)("div",{className:"bg-info p-2 col-12",children:Object(G.jsxs)("p",{className:"text-white text-center text-sm-start",children:["Enviado el ",he()(h.deliveredAt).calendar()]})}):Object(G.jsx)("div",{className:"bg-danger p-2 col-12",children:Object(G.jsx)("p",{className:"text-white text-center text-sm-start",children:"Por enviar"})})]})]})})]}),Object(G.jsxs)("div",{className:"row order-products justify-content-between",children:[Object(G.jsx)("div",{className:"col-lg-8",children:0===h.orderItems.length?Object(G.jsx)(le,{variant:"alert-info mt-5",children:"Tu pedido esta vacio"}):Object(G.jsx)(G.Fragment,{children:h.orderItems.map((function(e,t){return Object(G.jsxs)("div",{className:"order-product row",children:[Object(G.jsx)("div",{className:"col-md-3 col-6",children:Object(G.jsx)("img",{src:e.image,alt:e.name})}),Object(G.jsx)("div",{className:"col-md-5 col-6 d-flex align-items-center",children:Object(G.jsx)(i.b,{to:"/products/".concat(e.product),children:Object(G.jsx)("h6",{children:e.name})})}),Object(G.jsxs)("div",{className:"mt-3 mt-md-0 col-md-2 col-6  d-flex align-items-center flex-column justify-content-center ",children:[Object(G.jsx)("h4",{children:"Cantidad"}),Object(G.jsx)("h6",{children:e.qty})]}),Object(G.jsxs)("div",{className:"mt-3 mt-md-0 col-md-2 col-6 align-items-end  d-flex flex-column justify-content-center ",children:[Object(G.jsx)("h4",{children:"SUBTOTAL"}),Object(G.jsxs)("h6",{children:["S/",e.qty*e.price]})]})]},t)}))})}),Object(G.jsxs)("div",{className:"col-lg-3 d-flex align-items-end flex-column mt-5 subtotal-order",children:[Object(G.jsx)("table",{className:"table table-bordered",children:Object(G.jsxs)("tbody",{children:[Object(G.jsxs)("tr",{children:[Object(G.jsx)("td",{children:Object(G.jsx)("strong",{children:"Productos"})}),Object(G.jsxs)("td",{children:["S/",h.itemsPrice]})]}),Object(G.jsxs)("tr",{children:[Object(G.jsx)("td",{children:Object(G.jsx)("strong",{children:"Envio"})}),Object(G.jsxs)("td",{children:["S/",h.shippingPrice]})]}),Object(G.jsxs)("tr",{children:[Object(G.jsx)("td",{children:Object(G.jsx)("strong",{children:"Total"})}),Object(G.jsxs)("td",{children:["S/",h.totalPrice]})]})]})}),!h.isPaid&&Object(G.jsxs)("div",{className:"col-12",children:[f&&Object(G.jsx)(ie,{}),n?Object(G.jsx)(De.PayPalButton,{amount:h.totalPrice,onSuccess:function(e){m(function(e,t){return function(){var c=Object(j.a)(b.a.mark((function c(a,s){var r,n,i,o,l,d;return b.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,a({type:F}),r=s(),n=r.userLogin.userInfo,i={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n.token)}},c.next=6,C.a.put("https://deesgraze.herokuapp.com/api/orders/".concat(e,"/pay"),t,i);case 6:o=c.sent,l=o.data,a({type:U,payload:l}),c.next=16;break;case 11:c.prev=11,c.t0=c.catch(0),"Not authorized, token failed"===(d=c.t0.response&&c.t0.response.data.message?c.t0.response.data.message:c.t0.message)&&a(W()),a({type:z,payload:d});case 16:case"end":return c.stop()}}),c,null,[[0,11]])})));return function(e,t){return c.apply(this,arguments)}}()}(u,e))}}):Object(G.jsx)(ie,{})]})]})]})]})})]})},Fe=function(){return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(V,{}),Object(G.jsx)("div",{className:"container my-5",children:Object(G.jsxs)("div",{className:"row justify-content-center align-items-center",children:[Object(G.jsx)("h4",{className:"text-center mb-2 mb-sm-5",children:"Pagina no encontrada"}),Object(G.jsx)("img",{style:{width:"100%",height:"300px",objectFit:"contain"},src:"/images/not-found.png",alt:"Not-found"}),Object(G.jsx)("button",{className:"col-md-3 col-sm-6 col-12 btn btn-success mt-5",children:Object(G.jsx)(i.b,{to:"/",className:"text-white text-decoration-none",children:"Volver a inicio"})})]})})]})},Ue=c(6),ze=c(41),Me=["component"];var qe=function(e){var t=e.component,c=Object(ze.a)(e,Me);return Object(G.jsx)(o.b,Object(Ue.a)(Object(Ue.a)({},c),{},{component:function(e){return window.localStorage.getItem("userInfo")?Object(G.jsx)(t,Object(Ue.a)({},e)):Object(G.jsx)(o.a,{to:"/login"})}}))},Be=(c(81),function(){return he.a.locale("es"),Object(G.jsx)(i.a,{children:Object(G.jsxs)(o.d,{children:[Object(G.jsx)(o.b,{path:"/",component:me,exact:!0}),Object(G.jsx)(o.b,{path:"/search/:keyword",component:me,exact:!0}),Object(G.jsx)(o.b,{path:"/page/:pagenumber",component:me,exact:!0}),Object(G.jsx)(o.b,{path:"/search/:keyword/page/:pageNumber",component:me,exact:!0}),Object(G.jsx)(o.b,{path:"/products/:id",component:Oe}),Object(G.jsx)(o.b,{path:"/login",component:xe}),Object(G.jsx)(o.b,{path:"/register",component:ge}),Object(G.jsx)(qe,{path:"/profile",component:Te}),Object(G.jsx)(o.b,{path:"/cart/:id?",component:Ee}),Object(G.jsx)(qe,{path:"/shipping",component:Ie}),Object(G.jsx)(qe,{path:"/payment",component:Ae}),Object(G.jsx)(qe,{path:"/placeorder",component:Pe}),Object(G.jsx)(qe,{path:"/order/:id",component:Le}),Object(G.jsx)(o.b,{path:"*",component:Fe})]})})}),Je=c(23),Qe=c(43),We=c(42),Ge=Object(Je.combineReducers)({productList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:return{loading:!0,products:[]};case K:return{loading:!1,pages:t.payload.pages,page:t.payload.page,products:t.payload.products};case $:return{loading:!1,error:t.payload};default:return e}},productDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{reviews:[]}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee:return Object(Ue.a)(Object(Ue.a)({},e),{},{loading:!0});case te:return{loading:!1,product:t.payload};case ce:return{loading:!1,error:t.payload};default:return e}},productReviewCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae:return{loading:!0};case se:return{loading:!1,success:!0};case re:return{loading:!1,error:t.payload};case ne:return{};default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],shippingAddress:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fe:var c=t.payload,a=e.cartItems.find((function(e){return e.product===c.product}));return a?Object(Ue.a)(Object(Ue.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.product===a.product?c:e}))}):Object(Ue.a)(Object(Ue.a)({},e),{},{cartItems:[].concat(Object(H.a)(e.cartItems),[c])});case ve:return Object(Ue.a)(Object(Ue.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.product!==t.payload}))});case ye:return Object(Ue.a)(Object(Ue.a)({},e),{},{shippingAddress:t.payload});case Se:return Object(Ue.a)(Object(Ue.a)({},e),{},{paymentMethod:t.payload});case Ne:return Object(Ue.a)(Object(Ue.a)({},e),{},{cartItems:[]});default:return e}},userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return{loading:!0};case p:return{loading:!1,userInfo:t.payload};case h:return{loading:!1,error:t.payload};case O:return{};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return{loading:!0};case g:return{loading:!1,userInfo:t.payload};case f:return{loading:!1,error:t.payload};default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(Ue.a)(Object(Ue.a)({},e),{},{loading:!0});case N:return{loading:!1,user:t.payload};case y:return{loading:!1,error:t.payload};case S:return{user:{}};default:return e}},userUpdateProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return{loading:!0};case E:return{loading:!1,success:!0,userInfo:t.payload};case I:return{loading:!1,error:t.payload};default:return e}},orderCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return{loading:!0};case k:return{loading:!1,success:!0,order:t.payload};case T:return{loading:!1,error:t.payload};case A:return{};default:return e}},orderDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,orderItems:[],shippingAddress:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return Object(Ue.a)(Object(Ue.a)({},e),{},{loading:!0});case D:return{loading:!1,order:t.payload};case L:return{loading:!1,error:t.payload};default:return e}},orderPay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return{loading:!0};case U:return{loading:!1,success:!0};case z:return{loading:!1,error:t.payload};case M:return{};default:return e}},orderListMy:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return{loading:!0};case B:return{loading:!1,orders:t.payload};case J:return{loading:!1,error:t.payload};case Q:return{orders:[]};default:return e}}}),Ve=localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],Ye=localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null,He={cart:{cartItems:Ve,shippingAddress:localStorage.getItem("shippingAddress")?JSON.parse(localStorage.getItem("shippingAddress")):{}},userLogin:{userInfo:Ye}},Xe=[Qe.a],Ze=Object(Je.createStore)(Ge,He,Object(We.composeWithDevTools)(Je.applyMiddleware.apply(void 0,Xe)));n.a.render(Object(G.jsx)(d.a,{store:Ze,children:Object(G.jsx)(Be,{})}),document.getElementById("root"))}},[[82,1,2]]]);
//# sourceMappingURL=main.03b5f30a.chunk.js.map