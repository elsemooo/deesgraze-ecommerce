(this["webpackJsonpadmin-dashboard"]=this["webpackJsonpadmin-dashboard"]||[]).push([[0],{48:function(e,t,c){},49:function(e,t,c){},82:function(e,t,c){"use strict";c.r(t);var s=c(1),a=c.n(s),r=c(19),n=c.n(r),i=(c(48),c(49),c(50),c(2)),l=c(6),d=c(18),o=c.n(d),j=c(3),b=c(12),m=c(5),h=c.n(m),u="USER_LOGIN_REQUEST",x="USER_LOGIN_SUCCESS",O="USER_LOGIN_FAIL",p="USER_LOGOUT",g="USER_LIST_REQUEST",N="USER_LIST_SUCCESS",f="USER_LIST_FAIL",v="USER_LIST_RESET",y=c(13),w=c.n(y),E=c(17),S=function(){return function(e){localStorage.removeItem("userInfo"),e({type:p}),e({type:v})}},k=c(0),_=function(){var e=Object(j.b)();Object(s.useEffect)((function(){o()("[data-trigger]").on("click",(function(e){e.preventDefault(),e.stopPropagation();var t=o()(this).attr("data-trigger");o()(t).toggleClass("show")})),o()(".btn-aside-minimize").on("click",(function(){window.innerWidth<768?(o()("body").removeClass("aside-mini"),o()(".navbar-aside").removeClass("show")):o()("body").toggleClass("aside-mini")}))}),[]);return Object(k.jsx)("header",{className:"main-header navbar navbar-owo",children:Object(k.jsxs)("div",{className:"col-nav",children:[Object(k.jsx)("button",{className:"btn btn-icon btn-mobile me-auto","data-trigger":"#offcanvas_aside",children:Object(k.jsx)("i",{className:"md-28 fas fa-bars"})}),Object(k.jsx)("ul",{className:"nav",children:Object(k.jsxs)("li",{className:"dropdown nav-item",children:[Object(k.jsx)(i.b,{className:"dropdown-toggle","data-bs-toggle":"dropdown",to:"#",children:Object(k.jsx)("img",{className:"img-xs rounded-circle",src:"/images/favicon.png",alt:"User"})}),Object(k.jsxs)("div",{className:"dropdown-menu dropdown-menu-end",children:[Object(k.jsx)(i.b,{className:"dropdown-item",to:"/",children:"Mi perfil"}),Object(k.jsx)(i.b,{className:"dropdown-item",to:"#",children:"Configuracion"}),Object(k.jsx)(i.b,{onClick:function(){e(S())},className:"dropdown-item text-danger",to:"#",children:"Salir"})]})]})})]})})},C=function(e){var t=e.orders,c=e.products,s=0;return t&&t.map((function(e){return!0===e.isPaid?s+=e.totalPrice:null})),Object(k.jsxs)("div",{className:"row",children:[Object(k.jsx)("div",{className:"col-lg-4",children:Object(k.jsx)("div",{className:"card card-body mb-4 shadow-sm",children:Object(k.jsxs)("article",{className:"icontext",children:[Object(k.jsx)("span",{className:"icon icon-sm rounded-circle alert-primary",children:Object(k.jsx)("i",{className:"text-primary fas fa-usd-circle"})}),Object(k.jsxs)("div",{className:"text",children:[Object(k.jsx)("h6",{className:"mb-1",children:"Total de ventas"})," ",Object(k.jsxs)("span",{children:["$",s.toFixed(0)]})]})]})})}),Object(k.jsx)("div",{className:"col-lg-4",children:Object(k.jsx)("div",{className:"card card-body mb-4 shadow-sm",children:Object(k.jsxs)("article",{className:"icontext",children:[Object(k.jsx)("span",{className:"icon icon-sm rounded-circle alert-success",children:Object(k.jsx)("i",{className:"text-success fas fa-bags-shopping"})}),Object(k.jsxs)("div",{className:"text",children:[Object(k.jsx)("h6",{className:"mb-1",children:"Total de ordenes"}),t?Object(k.jsx)("span",{children:t.length}):Object(k.jsx)("span",{children:"0"})]})]})})}),Object(k.jsx)("div",{className:"col-lg-4",children:Object(k.jsx)("div",{className:"card card-body mb-4 shadow-sm",children:Object(k.jsxs)("article",{className:"icontext",children:[Object(k.jsx)("span",{className:"icon icon-sm rounded-circle alert-warning",children:Object(k.jsx)("i",{className:"text-warning fas fa-shopping-basket"})}),Object(k.jsxs)("div",{className:"text",children:[Object(k.jsx)("h6",{className:"mb-1",children:"Total de productos"}),c?Object(k.jsx)("span",{children:c.length}):Object(k.jsx)("span",{children:"0"})]})]})})})]})},D=c(16),I=c.n(D),T=function(e){var t=e.variant,c=e.children;return Object(k.jsx)("div",{className:"d-flex justify-content-center col-12",children:Object(k.jsx)("div",{className:"alert ".concat(t),children:c})})};T.defaultProps={variant:"alert-info"};var R=T,L=function(){return Object(k.jsx)("div",{className:"d-flex justify-content-center",children:Object(k.jsx)("div",{className:"spinner-border text-success",role:"status",style:{width:"50px",height:"50px"},children:Object(k.jsx)("span",{className:"sr-only",children:"Loading..."})})})},A=function(e){var t=e.loading,c=e.error,s=e.orders;return Object(k.jsxs)("div",{className:"card-body",children:[Object(k.jsx)("h4",{className:"card-title",children:"Ordenes nuevas"}),t?Object(k.jsx)(L,{}):c?Object(k.jsx)(R,{variant:"alert-danger",children:c}):Object(k.jsx)("div",{className:"table-responsive",children:Object(k.jsx)("table",{className:"table",children:Object(k.jsx)("tbody",{children:s.slice(0,5).map((function(e){return Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:Object(k.jsx)("b",{children:e.user.name})}),Object(k.jsx)("td",{children:e.user.email}),Object(k.jsxs)("td",{children:["S/",e.totalPrice]}),Object(k.jsx)("td",{children:e.isPaid?Object(k.jsxs)("span",{className:"badge rounded-pill alert-success",children:["Pagado el: ",I()(e.paidAt).format("MMM Do YY")]}):Object(k.jsx)("span",{className:"badge rounded-pill alert-danger",children:"Por pagar"})}),Object(k.jsx)("td",{children:I()(e.createdAt).calendar()}),Object(k.jsx)("td",{className:"d-flex justify-content-end align-item-center",children:Object(k.jsx)(i.b,{to:"/order/".concat(e._id),className:"text-success",children:Object(k.jsx)("i",{className:"fas fa-eye"})})})]},e._id)}))})})})]})},U=function(){return Object(k.jsx)("div",{className:"col-xl-6 col-lg-12",children:Object(k.jsx)("div",{className:"card mb-4 shadow-sm",children:Object(k.jsxs)("article",{className:"card-body",children:[Object(k.jsx)("h5",{className:"card-title",children:"Estadisticas de venta (beta)"}),Object(k.jsx)("iframe",{style:{background:"#FFFFFF",border:"none",borderRadius:"2px",boxShadow:"0 2px 10px 0 rgba(70, 76, 79, .2);",width:"100%",height:"350px"},src:"https://charts.mongodb.com/charts-shoeshoptutorial-bzbxw/embed/charts?id=28397e9a-cc52-45f2-8da0-7a9a760c2f6d&maxDataAge=3600&theme=light&autoRefresh=true"})]})})})},P=function(){return Object(k.jsx)("div",{className:"col-xl-6 col-lg-12",children:Object(k.jsx)("div",{className:"card mb-4 shadow-sm",children:Object(k.jsxs)("article",{className:"card-body",children:[Object(k.jsx)("h5",{className:"card-title",children:"Estadisticas de productos (beta)"}),Object(k.jsx)("iframe",{style:{background:"#FFFFFF",border:"none",borderRadius:"2px",boxShadow:"0 2px 10px 0 rgba(70, 76, 79, .2);",width:"100%",height:"350px"},src:"https://charts.mongodb.com/charts-shoeshoptutorial-bzbxw/embed/charts?id=1f926980-090b-44c6-b011-3e94b2efddca&maxDataAge=3600&theme=light&autoRefresh=true"})]})})})},F=function(){var e=Object(j.c)((function(e){return e.orderList})),t=e.loading,c=e.error,s=e.orders,a=Object(j.c)((function(e){return e.productList})).products;return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("section",{className:"content-main",children:[Object(k.jsx)("div",{className:"content-header",children:Object(k.jsx)("h2",{className:"content-title",children:" Estadisticas "})}),Object(k.jsx)(C,{orders:s,products:a}),Object(k.jsxs)("div",{className:"row",children:[Object(k.jsx)(U,{}),Object(k.jsx)(P,{})]}),Object(k.jsx)("div",{className:"card mb-4 shadow-sm",children:Object(k.jsx)(A,{orders:s,loading:t,error:c})})]})})},z=function(){return Object(k.jsx)("div",{children:Object(k.jsxs)("aside",{className:"navbar-aside",id:"offcanvas_aside",children:[Object(k.jsxs)("div",{className:"aside-top",children:[Object(k.jsx)(i.b,{to:"/",className:"brand-wrap",children:Object(k.jsx)("img",{src:"/images/logo.svg",style:{height:"46"},className:"logo",alt:"Ecommerce dashboard template"})}),Object(k.jsx)("div",{children:Object(k.jsx)("button",{className:"btn btn-icon btn-aside-minimize",children:Object(k.jsx)("i",{className:"text-muted fas fa-stream"})})})]}),Object(k.jsxs)("nav",{children:[Object(k.jsxs)("ul",{className:"menu-aside",children:[Object(k.jsx)("li",{className:"menu-item",children:Object(k.jsxs)(i.c,{activeClassName:"active",className:"menu-link",to:"/",exact:!0,children:[Object(k.jsx)("i",{className:"icon fas fa-home"}),Object(k.jsx)("span",{className:"text",children:"Estadisticas"})]})}),Object(k.jsx)("li",{className:"menu-item",children:Object(k.jsxs)(i.c,{activeClassName:"active",className:"menu-link",to:"/products",children:[Object(k.jsx)("i",{className:"icon fas fa-shopping-bag"}),Object(k.jsx)("span",{className:"text",children:"Productos"})]})}),Object(k.jsx)("li",{className:"menu-item",children:Object(k.jsxs)(i.c,{activeClassName:"active",className:"menu-link",to:"/addproduct",children:[Object(k.jsx)("i",{className:"icon fas fa-cart-plus"}),Object(k.jsx)("span",{className:"text",children:"A\xf1adir producto"})]})}),Object(k.jsx)("li",{className:"menu-item",children:Object(k.jsxs)(i.c,{activeClassName:"active",className:"menu-link",to:"/orders",children:[Object(k.jsx)("i",{className:"icon fas fa-bags-shopping"}),Object(k.jsx)("span",{className:"text",children:"Pedidos"})]})}),Object(k.jsx)("li",{className:"menu-item",children:Object(k.jsxs)(i.c,{activeClassName:"active",className:"menu-link",to:"/users",children:[Object(k.jsx)("i",{className:"icon fas fa-user"}),Object(k.jsx)("span",{className:"text",children:"Usuarios"})]})})]}),Object(k.jsx)("br",{}),Object(k.jsx)("br",{})]})]})})},M=function(){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(z,{}),Object(k.jsxs)("main",{className:"main-wrap",children:[Object(k.jsx)(_,{}),Object(k.jsx)(F,{})]})]})},q="PRODUCT_LIST_REQUEST",B="PRODUCT_LIST_SUCCESS",Q="PRODUCT_LIST_FAIL",Y="PRODUCT_EDIT_REQUEST",W="PRODUCT_EDIT_SUCCESS",V="PRODUCT_EDIT_FAIL",G="PRODUCT_DELETE_REQUEST",H="PRODUCT_DELETE_SUCCESS",J="PRODUCT_DELETE_FAIL",X="PRODUCT_CREATE_REQUEST",K="PRODUCT_CREATE_SUCCESS",$="PRODUCT_CREATE_FAIL",Z="PRODUCT_CREATE_RESET",ee="PRODUCT_UPDATE_REQUEST",te="PRODUCT_UPDATE_SUCCESS",ce="PRODUCT_UPDATE_FAIL",se="PRODUCT_UPDATE_RESET",ae=function(){return function(){var e=Object(b.a)(h.a.mark((function e(t,c){var s,a,r,n,i,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:q}),s=c(),a=s.userLogin.userInfo,r={headers:{Authorization:"Bearer ".concat(a.token)}},e.next=6,w.a.get("https://deesgraze.herokuapp.com/api/products/all",r);case 6:n=e.sent,i=n.data,t({type:B,payload:i}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),"Not authorized, token failed"===(l=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message)&&t(S()),t({type:Q,payload:l});case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,c){return e.apply(this,arguments)}}()},re=function(e){var t=e.product,c=Object(j.b)(),s=function(e){window.confirm("Are you sure??")&&c(function(e){return function(){var t=Object(b.a)(h.a.mark((function t(c,s){var a,r,n,i;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:G}),a=s(),r=a.userLogin.userInfo,n={headers:{Authorization:"Bearer ".concat(r.token)}},t.next=6,w.a.delete("https://deesgraze.herokuapp.com/api/products/".concat(e),n);case 6:c({type:H}),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(0),"Not authorized, token failed"===(i=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&c(S()),c({type:J,payload:i});case 14:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,c){return t.apply(this,arguments)}}()}(e))};return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("div",{className:"col-md-6 col-sm-6 col-lg-3 mb-5",children:Object(k.jsxs)("div",{className:"card card-product-grid shadow-sm",children:[Object(k.jsx)(i.b,{to:"#",className:"img-wrap",children:Object(k.jsx)("img",{src:t.image,alt:"Product"})}),Object(k.jsxs)("div",{className:"info-wrap",children:[Object(k.jsx)(i.b,{to:"#",className:"title text-truncate",children:t.name}),Object(k.jsxs)("div",{className:"price mb-2",children:["S/",t.price]}),Object(k.jsxs)("div",{className:"row",children:[Object(k.jsx)(i.b,{to:"/product/".concat(t._id,"/edit"),className:"btn btn-sm btn-outline-success p-2 pb-3 col-md-6",children:Object(k.jsx)("i",{className:"fas fa-pen"})}),Object(k.jsx)(i.b,{to:"#",onClick:function(){return s(t._id)},className:"btn btn-sm btn-outline-danger p-2 pb-3 col-md-6",children:Object(k.jsx)("i",{className:"fas fa-trash-alt"})})]})]})]})})})},ne=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.productList})),c=t.loading,a=t.error,r=t.products,n=Object(j.c)((function(e){return e.productDelete})),l=n.error,d=n.success;return Object(s.useEffect)((function(){e(ae())}),[e,d]),Object(k.jsxs)("section",{className:"content-main",children:[Object(k.jsxs)("div",{className:"content-header",children:[Object(k.jsx)("h2",{className:"content-title",children:"Products"}),Object(k.jsx)("div",{children:Object(k.jsx)(i.b,{to:"/addproduct",className:"btn btn-primary",children:"Create new"})})]}),Object(k.jsxs)("div",{className:"card mb-4 shadow-sm",children:[Object(k.jsx)("header",{className:"card-header bg-white ",children:Object(k.jsxs)("div",{className:"row gx-3 py-3",children:[Object(k.jsx)("div",{className:"col-lg-4 col-md-6 me-auto ",children:Object(k.jsx)("input",{type:"search",placeholder:"Search...",className:"form-control p-2"})}),Object(k.jsx)("div",{className:"col-lg-2 col-6 col-md-3",children:Object(k.jsxs)("select",{className:"form-select",children:[Object(k.jsx)("option",{children:"All category"}),Object(k.jsx)("option",{children:"Electronics"}),Object(k.jsx)("option",{children:"Clothings"}),Object(k.jsx)("option",{children:"Something else"})]})}),Object(k.jsx)("div",{className:"col-lg-2 col-6 col-md-3",children:Object(k.jsxs)("select",{className:"form-select",children:[Object(k.jsx)("option",{children:"Latest added"}),Object(k.jsx)("option",{children:"Cheap first"}),Object(k.jsx)("option",{children:"Most viewed"})]})})]})}),Object(k.jsxs)("div",{className:"card-body",children:[l&&Object(k.jsx)(R,{variant:"alert-danger",children:l}),c?Object(k.jsx)(L,{}):a?Object(k.jsx)(R,{variant:"alert-danger",children:a}):Object(k.jsx)("div",{className:"row",children:r.map((function(e){return Object(k.jsx)(re,{product:e},e._id)}))}),Object(k.jsx)("nav",{className:"float-end mt-4","aria-label":"Page navigation",children:Object(k.jsxs)("ul",{className:"pagination",children:[Object(k.jsx)("li",{className:"page-item disabled",children:Object(k.jsx)(i.b,{className:"page-link",to:"#",children:"Previous"})}),Object(k.jsx)("li",{className:"page-item active",children:Object(k.jsx)(i.b,{className:"page-link",to:"#",children:"1"})}),Object(k.jsx)("li",{className:"page-item",children:Object(k.jsx)(i.b,{className:"page-link",to:"#",children:"2"})}),Object(k.jsx)("li",{className:"page-item",children:Object(k.jsx)(i.b,{className:"page-link",to:"#",children:"3"})}),Object(k.jsx)("li",{className:"page-item",children:Object(k.jsx)(i.b,{className:"page-link",to:"#",children:"Next"})})]})})]})]})]})},ie=function(){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(z,{}),Object(k.jsxs)("main",{className:"main-wrap",children:[Object(k.jsx)(_,{}),Object(k.jsx)(ne,{})]})]})},le=function(){return Object(k.jsx)("div",{className:"col-md-12 col-lg-4",children:Object(k.jsxs)("form",{children:[Object(k.jsxs)("div",{className:"mb-4",children:[Object(k.jsx)("label",{htmlFor:"product_name",className:"form-label",children:"Name"}),Object(k.jsx)("input",{type:"text",placeholder:"Type here",className:"form-control py-3",id:"product_name"})]}),Object(k.jsxs)("div",{className:"mb-4",children:[Object(k.jsx)("label",{className:"form-label",children:"Images"}),Object(k.jsx)("input",{className:"form-control",type:"file"})]}),Object(k.jsxs)("div",{className:"mb-4",children:[Object(k.jsx)("label",{className:"form-label",children:"Description"}),Object(k.jsx)("textarea",{placeholder:"Type here",className:"form-control",rows:"4"})]}),Object(k.jsx)("div",{className:"d-grid",children:Object(k.jsx)("button",{className:"btn btn-primary py-3",children:"Create category"})})]})})},de=function(){return Object(k.jsx)("div",{className:"col-md-12 col-lg-8",children:Object(k.jsxs)("table",{className:"table",children:[Object(k.jsx)("thead",{children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{children:Object(k.jsx)("div",{className:"form-check",children:Object(k.jsx)("input",{className:"form-check-input",type:"checkbox",value:""})})}),Object(k.jsx)("th",{children:"ID"}),Object(k.jsx)("th",{children:"Nombre"}),Object(k.jsx)("th",{children:"Descripcion"}),Object(k.jsx)("th",{className:"text-end",children:"Accion"})]})}),Object(k.jsxs)("tbody",{children:[Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:Object(k.jsx)("div",{className:"form-check",children:Object(k.jsx)("input",{className:"form-check-input",type:"checkbox",value:""})})}),Object(k.jsx)("td",{children:"1"}),Object(k.jsx)("td",{children:Object(k.jsx)("b",{children:"Men clothes"})}),Object(k.jsx)("td",{children:"Men clothes"}),Object(k.jsx)("td",{className:"text-end",children:Object(k.jsxs)("div",{className:"dropdown",children:[Object(k.jsx)(i.b,{to:"#","data-bs-toggle":"dropdown",className:"btn btn-light",children:Object(k.jsx)("i",{className:"fas fa-ellipsis-h"})}),Object(k.jsxs)("div",{className:"dropdown-menu",children:[Object(k.jsx)(i.b,{className:"dropdown-item",to:"#",children:"Edit info"}),Object(k.jsx)(i.b,{className:"dropdown-item text-danger",to:"#",children:"Delete"})]})]})})]}),Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:Object(k.jsx)("div",{className:"form-check",children:Object(k.jsx)("input",{className:"form-check-input",type:"checkbox",value:""})})}),Object(k.jsx)("td",{children:"2"}),Object(k.jsx)("td",{children:Object(k.jsx)("b",{children:"Women fashion"})}),Object(k.jsx)("td",{children:"Fashions for Women"}),Object(k.jsx)("td",{className:"text-end",children:Object(k.jsxs)("div",{className:"dropdown",children:[Object(k.jsx)(i.b,{to:"#","data-bs-toggle":"dropdown",className:"btn btn-light",children:Object(k.jsx)("i",{className:"fas fa-ellipsis-h"})}),Object(k.jsxs)("div",{className:"dropdown-menu",children:[Object(k.jsx)(i.b,{className:"dropdown-item",to:"#",children:"Edit info"}),Object(k.jsx)(i.b,{className:"dropdown-item text-danger",to:"#",children:"Delete"})]})]})})]}),Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:Object(k.jsx)("div",{className:"form-check",children:Object(k.jsx)("input",{className:"form-check-input",type:"checkbox",value:""})})}),Object(k.jsx)("td",{children:"3"}),Object(k.jsx)("td",{children:Object(k.jsx)("b",{children:"Kids clothes"})}),Object(k.jsx)("td",{children:"Clothes for kids"}),Object(k.jsx)("td",{className:"text-end",children:Object(k.jsxs)("div",{className:"dropdown",children:[Object(k.jsx)(i.b,{to:"#","data-bs-toggle":"dropdown",className:"btn btn-light",children:Object(k.jsx)("i",{className:"fas fa-ellipsis-h"})}),Object(k.jsxs)("div",{className:"dropdown-menu",children:[Object(k.jsx)(i.b,{className:"dropdown-item",to:"#",children:"Edit info"}),Object(k.jsx)(i.b,{className:"dropdown-item text-danger",to:"#",children:"Delete"})]})]})})]})]})]})})},oe=function(){return Object(k.jsxs)("section",{className:"content-main",children:[Object(k.jsx)("div",{className:"content-header",children:Object(k.jsx)("h2",{className:"content-title",children:"Categories"})}),Object(k.jsx)("div",{className:"card shadow-sm",children:Object(k.jsx)("div",{className:"card-body",children:Object(k.jsxs)("div",{className:"row",children:[Object(k.jsx)(le,{}),Object(k.jsx)(de,{})]})})})]})},je=function(){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(z,{}),Object(k.jsxs)("main",{className:"main-wrap",children:[Object(k.jsx)(_,{}),Object(k.jsx)(oe,{})]})]})},be=function(e){var t=e.orders;return Object(k.jsxs)("table",{className:"table",children:[Object(k.jsx)("thead",{children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{scope:"col",children:"Nombre"}),Object(k.jsx)("th",{scope:"col",children:"Email"}),Object(k.jsx)("th",{scope:"col",children:"Total"}),Object(k.jsx)("th",{scope:"col",children:"Pagado"}),Object(k.jsx)("th",{scope:"col",children:"Fecha"}),Object(k.jsx)("th",{children:"Estado"}),Object(k.jsx)("th",{scope:"col",className:"text-end",children:"Accion"})]})}),Object(k.jsx)("tbody",{children:t.map((function(e){return Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:Object(k.jsx)("b",{children:e.user.name})}),Object(k.jsx)("td",{children:e.user.email}),Object(k.jsxs)("td",{children:["S/",e.totalPrice]}),Object(k.jsx)("td",{children:e.isPaid?Object(k.jsxs)("span",{className:"badge rounded-pill alert-success",children:["pagado el: ",I()(e.paidAt).format("MMM Do YY")]}):Object(k.jsx)("span",{className:"badge rounded-pill alert-danger",children:"Por pagar"})}),Object(k.jsx)("td",{children:I()(e.createdAt).format("MMM Do YY")}),Object(k.jsx)("td",{children:e.isDelivered?Object(k.jsx)("span",{className:"badge btn-success",children:"Enviado"}):Object(k.jsx)("span",{className:"badge btn-dark",children:"Por enviar"})}),Object(k.jsx)("td",{className:"d-flex justify-content-end align-item-center",children:Object(k.jsx)(i.b,{to:"/order/".concat(e._id),className:"text-success",children:Object(k.jsx)("i",{className:"fas fa-eye"})})})]},e._id)}))})]})},me=function(){var e=Object(j.c)((function(e){return e.orderList})),t=e.loading,c=e.error,s=e.orders;return Object(k.jsxs)("section",{className:"content-main",children:[Object(k.jsx)("div",{className:"content-header",children:Object(k.jsx)("h2",{className:"content-title",children:"Orders"})}),Object(k.jsxs)("div",{className:"card mb-4 shadow-sm",children:[Object(k.jsx)("header",{className:"card-header bg-white",children:Object(k.jsxs)("div",{className:"row gx-3 py-3",children:[Object(k.jsx)("div",{className:"col-lg-4 col-md-6 me-auto",children:Object(k.jsx)("input",{type:"text",placeholder:"Search...",className:"form-control p-2"})}),Object(k.jsx)("div",{className:"col-lg-2 col-6 col-md-3",children:Object(k.jsxs)("select",{className:"form-select",children:[Object(k.jsx)("option",{children:"Mostrar 20"}),Object(k.jsx)("option",{children:"Mostrar 30"}),Object(k.jsx)("option",{children:"Mostrar 40"})]})})]})}),Object(k.jsx)("div",{className:"card-body",children:Object(k.jsx)("div",{className:"table-responsive",children:t?Object(k.jsx)(L,{}):c?Object(k.jsx)(R,{variant:"alert-danger",children:c}):Object(k.jsx)(be,{orders:s})})})]})]})},he=function(){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(z,{}),Object(k.jsxs)("main",{className:"main-wrap",children:[Object(k.jsx)(_,{}),Object(k.jsx)(me,{})]})]})},ue=function(e){var t,c=e.order;if(!e.loading){c.itemsPrice=(t=c.orderItems.reduce((function(e,t){return e+t.price*t.qty}),0),(Math.round(100*t)/100).toFixed(2))}return Object(k.jsxs)("table",{className:"table border table-lg",children:[Object(k.jsx)("thead",{children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{style:{width:"40%"},children:"Producto"}),Object(k.jsx)("th",{style:{width:"20%"},children:"Precio unitario"}),Object(k.jsx)("th",{style:{width:"20%"},children:"Cantidad"}),Object(k.jsx)("th",{style:{width:"20%"},className:"text-end",children:"Total"})]})}),Object(k.jsxs)("tbody",{children:[c.orderItems.map((function(e,t){return Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:Object(k.jsxs)(i.b,{className:"itemside",to:"#",children:[Object(k.jsx)("div",{className:"left",children:Object(k.jsx)("img",{src:e.image,alt:e.name,style:{width:"40px",height:"40px"},className:"img-xs"})}),Object(k.jsx)("div",{className:"info",children:e.name})]})}),Object(k.jsxs)("td",{children:["S/",e.price," "]}),Object(k.jsxs)("td",{children:[e.qty," "]}),Object(k.jsxs)("td",{className:"text-end",children:[" S/",e.qty*e.price]})]},t)})),Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:"4",children:Object(k.jsxs)("article",{className:"float-end",children:[Object(k.jsxs)("dl",{className:"dlist",children:[Object(k.jsx)("dt",{children:"Subtotal:"})," ",Object(k.jsxs)("dd",{children:["S/",c.itemsPrice]})]}),Object(k.jsxs)("dl",{className:"dlist",children:[Object(k.jsx)("dt",{children:"Costo de envio:"})," ",Object(k.jsxs)("dd",{children:["S/",c.shippingPrice]})]}),Object(k.jsxs)("dl",{className:"dlist",children:[Object(k.jsx)("dt",{children:"total:"}),Object(k.jsx)("dd",{children:Object(k.jsxs)("b",{className:"h5",children:["S/",c.totalPrice]})})]}),Object(k.jsxs)("dl",{className:"dlist",children:[Object(k.jsx)("dt",{className:"text-muted",children:"Estado:"}),Object(k.jsx)("dd",{children:c.isPaid?Object(k.jsx)("span",{className:"badge rounded-pill alert alert-success text-success",children:"Pagado"}):Object(k.jsx)("span",{className:"badge rounded-pill alert alert-danger text-danger",children:"Por pagar"})})]})]})})})]})]})},xe=function(e){var t=e.order;return Object(k.jsxs)("div",{className:"row mb-5 order-info-wrap",children:[Object(k.jsx)("div",{className:"col-md-6 col-lg-4",children:Object(k.jsxs)("article",{className:"icontext align-items-start",children:[Object(k.jsx)("span",{className:"icon icon-sm rounded-circle alert-success",children:Object(k.jsx)("i",{className:"text-success fas fa-user"})}),Object(k.jsxs)("div",{className:"text",children:[Object(k.jsx)("h6",{className:"mb-1",children:"Usuario"}),Object(k.jsxs)("p",{className:"mb-1",children:[t.user.name," ",Object(k.jsx)("br",{}),Object(k.jsx)("a",{href:"mailto:".concat(t.user.email),children:t.user.email})]})]})]})}),Object(k.jsx)("div",{className:"col-md-6 col-lg-4",children:Object(k.jsxs)("article",{className:"icontext align-items-start",children:[Object(k.jsx)("span",{className:"icon icon-sm rounded-circle alert-success",children:Object(k.jsx)("i",{className:"text-success fas fa-truck-moving"})}),Object(k.jsxs)("div",{className:"text",children:[Object(k.jsx)("h6",{className:"mb-1",children:"Informacion de pedido"}),Object(k.jsxs)("p",{className:"mb-1",children:["Direccion: ",t.shippingAddress.provincia," ",Object(k.jsx)("br",{})," Metodo de pago:"," ",t.paymentMethod]})]})]})}),Object(k.jsx)("div",{className:"col-md-6 col-lg-4",children:Object(k.jsxs)("article",{className:"icontext align-items-start",children:[Object(k.jsx)("span",{className:"icon icon-sm rounded-circle alert-success",children:Object(k.jsx)("i",{className:"text-success fas fa-map-marker-alt"})}),Object(k.jsxs)("div",{className:"text",children:[Object(k.jsx)("h6",{className:"mb-1",children:"Enviar a"}),Object(k.jsxs)("p",{className:"mb-1",children:["Direccion: ",t.shippingAddress.pais,Object(k.jsx)("br",{}),t.shippingAddress.provincia,Object(k.jsx)("br",{})," ",t.shippingAddress.ciudad,Object(k.jsx)("br",{})," ",t.shippingAddress.direccion,Object(k.jsx)("br",{})," ",t.shippingAddress.nombre_completo,Object(k.jsx)("br",{})," ",t.shippingAddress.celular]})]})]})})]})},Oe="ORDER_LIST_REQUEST",pe="ORDER_LIST_SUCCESS",ge="ORDER_LIST_FAIL",Ne="ORDER_DETAILS_REQUEST",fe="ORDER_DETAILS_SUCCESS",ve="ORDER_DETAILS_FAIL",ye="ORDER_DELIVERED_REQUEST",we="ORDER_DELIVERED_SUCCESS",Ee="ORDER_DELIVERED_FAIL",Se="ORDER_DELIVERED_RESET",ke=function(e){var t=e.orderId,c=Object(j.b)(),a=Object(j.c)((function(e){return e.orderDetails})),r=a.loading,n=a.error,l=a.order,d=Object(j.c)((function(e){return e.orderDeliver})),o=d.loading,m=d.success;Object(s.useEffect)((function(){var e;c((e=t,function(){var t=Object(b.a)(h.a.mark((function t(c,s){var a,r,n,i,l,d;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:Ne}),a=s(),r=a.userLogin.userInfo,n={headers:{Authorization:"Bearer ".concat(r.token)}},t.next=6,w.a.get("https://deesgraze.herokuapp.com/api/orders/".concat(e),n);case 6:i=t.sent,l=i.data,c({type:fe,payload:l}),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(0),"Not authorized, token failed"===(d=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&c(S()),c({type:ve,payload:d});case 16:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,c){return t.apply(this,arguments)}}()))}),[c,t,m]);return Object(k.jsxs)("section",{className:"content-main",children:[Object(k.jsx)("div",{className:"content-header",children:Object(k.jsx)(i.b,{to:"/orders",className:"btn btn-dark text-white",children:"Volver a pedidos"})}),r?Object(k.jsx)(L,{}):n?Object(k.jsx)(R,{variant:"alert-danger",children:n}):Object(k.jsxs)("div",{className:"card",children:[Object(k.jsx)("header",{className:"card-header p-3 Header-green",children:Object(k.jsxs)("div",{className:"row align-items-center ",children:[Object(k.jsxs)("div",{className:"col-lg-6 col-md-6",children:[Object(k.jsxs)("span",{children:[Object(k.jsx)("i",{className:"far fa-calendar-alt mx-2"}),Object(k.jsx)("b",{className:"text-white",children:I()(l.createdAt).format("llll")})]}),Object(k.jsx)("br",{}),Object(k.jsxs)("small",{className:"text-white mx-3 ",children:["Orden ID: ",l._id]})]}),Object(k.jsxs)("div",{className:"col-lg-6 col-md-6 ms-auto d-flex justify-content-end align-items-center",children:[Object(k.jsxs)("select",{className:"form-select d-inline-block",style:{maxWidth:"200px"},children:[Object(k.jsx)("option",{children:"Cambiar status"}),Object(k.jsx)("option",{children:"Esperando pago"}),Object(k.jsx)("option",{children:"Confirmado"}),Object(k.jsx)("option",{children:"Enviado"}),Object(k.jsx)("option",{children:"Entregado"})]}),Object(k.jsx)(i.b,{className:"btn btn-success ms-2",to:"#",children:Object(k.jsx)("i",{className:"fas fa-print"})})]})]})}),Object(k.jsxs)("div",{className:"card-body",children:[Object(k.jsx)(xe,{order:l}),Object(k.jsxs)("div",{className:"row",children:[Object(k.jsx)("div",{className:"col-lg-9",children:Object(k.jsx)("div",{className:"table-responsive",children:Object(k.jsx)(ue,{order:l,loading:r})})}),Object(k.jsx)("div",{className:"col-lg-3",children:Object(k.jsx)("div",{className:"box shadow-sm bg-light",children:l.isDelivered?Object(k.jsxs)("button",{className:"btn btn-success col-12",children:["Enviado el: ("," ",I()(l.isDeliveredAt).format("MMM Do YY"),")"]}):Object(k.jsxs)(k.Fragment,{children:[o&&Object(k.jsx)(L,{}),Object(k.jsx)("button",{onClick:function(){c(function(e){return function(){var t=Object(b.a)(h.a.mark((function t(c,s){var a,r,n,i,l,d;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:ye}),a=s(),r=a.userLogin.userInfo,n={headers:{Authorization:"Bearer ".concat(r.token)}},t.next=6,w.a.put("https://deesgraze.herokuapp.com/api/orders/".concat(e._id,"/delivered"),{},n);case 6:i=t.sent,l=i.data,c({type:we,payload:l}),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(0),"Not authorized, token failed"===(d=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&c(S()),c({type:Ee,payload:d});case 16:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,c){return t.apply(this,arguments)}}()}(l))},className:"btn btn-dark col-12",children:"Marcar como enviado"})]})})})]})]})]})]})},_e=function(e){var t=e.match.params.id;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(z,{}),Object(k.jsxs)("main",{className:"main-wrap",children:[Object(k.jsx)(_,{}),Object(k.jsx)(ke,{orderId:t})]})]})},Ce=c(21),De=c(7),Ie=function(){return Object(k.jsxs)("div",{children:[Object(k.jsx)(E.a,{position:"top-right",hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1}),Object(k.jsx)(E.a,{})]})},Te={pauseOnFocusLoss:!1,draggable:!1,pauseOnHover:!1,autoClose:2e3},Re=function(){var e=Object(s.useState)(""),t=Object(De.a)(e,2),c=t[0],a=t[1],r=Object(s.useState)(0),n=Object(De.a)(r,2),l=n[0],d=n[1],o=Object(s.useState)(""),m=Object(De.a)(o,2),u=m[0],x=m[1],O=Object(s.useState)(0),p=Object(De.a)(O,2),g=p[0],N=p[1],f=Object(s.useState)(""),v=Object(De.a)(f,2),y=v[0],_=v[1],C=Object(s.useState)([]),D=Object(De.a)(C,2),I=D[0],T=D[1],A=function(e){var t=Object(Ce.a)(I);e.target.checked?t=[].concat(Object(Ce.a)(I),[e.target.value]):t.splice(I.indexOf(e.target.value),1),T(t)},U=Object(j.b)(),P=Object(j.c)((function(e){return e.productCreate})),F=P.loading,z=P.error,M=P.product;Object(s.useEffect)((function(){M&&(E.b.success("Product Added",Te),U({type:Z}),a(""),_(""),N(0),x(""),d(0),T([]))}),[M,U]);return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(Ie,{}),Object(k.jsx)("section",{className:"content-main",style:{maxWidth:"1200px"},children:Object(k.jsxs)("form",{onSubmit:function(e){e.preventDefault(),U(function(e,t,c,s,a,r){return function(){var n=Object(b.a)(h.a.mark((function n(i,l){var d,o,j,b,m,u;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,i({type:X}),d=l(),o=d.userLogin.userInfo,j={headers:{Authorization:"Bearer ".concat(o.token)}},n.next=6,w.a.post("https://deesgraze.herokuapp.com/api/products/",{name:e,price:t,description:c,image:s,countInStock:a,tallas:r},j);case 6:b=n.sent,m=b.data,i({type:K,payload:m}),n.next=16;break;case 11:n.prev=11,n.t0=n.catch(0),"Not authorized, token failed"===(u=n.t0.response&&n.t0.response.data.message?n.t0.response.data.message:n.t0.message)&&i(S()),i({type:$,payload:u});case 16:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e,t){return n.apply(this,arguments)}}()}(c,l,y,u,g,I))},children:[Object(k.jsxs)("div",{className:"content-header",children:[Object(k.jsx)(i.b,{to:"/products",className:"btn btn-danger text-white",children:"Ir a productos"}),Object(k.jsx)("h2",{className:"content-title",children:"A\xf1adir producto"}),Object(k.jsx)("div",{children:Object(k.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Publicar"})})]}),Object(k.jsx)("div",{className:"row mb-4",children:Object(k.jsx)("div",{className:"col-xl-8 col-lg-8",children:Object(k.jsx)("div",{className:"card mb-4 shadow-sm",children:Object(k.jsxs)("div",{className:"card-body",children:[z&&Object(k.jsx)(R,{variant:"alert-danger",children:z}),F&&Object(k.jsx)(L,{}),Object(k.jsxs)("div",{className:"mb-4",children:[Object(k.jsx)("label",{htmlFor:"product_title",className:"form-label",children:"Titulo de producto"}),Object(k.jsx)("input",{type:"text",placeholder:"Escribe aca",className:"form-control",id:"product_title",required:!0,value:c,onChange:function(e){return a(e.target.value)}})]}),Object(k.jsxs)("div",{className:"mb-4",children:[Object(k.jsx)("label",{htmlFor:"product_price",className:"form-label",children:"Precio"}),Object(k.jsx)("input",{type:"number",placeholder:"Escribe aca",className:"form-control",id:"product_price",required:!0,value:l,onChange:function(e){return d(e.target.value)}})]}),Object(k.jsx)("div",{className:"mb-4",children:Object(k.jsxs)("label",{className:"form-label",children:["Tallas",["XS","S","M","L","XL","28","29","30","31","32","33","34"].map((function(e,t){return Object(k.jsxs)("div",{children:[Object(k.jsx)("input",{value:e,type:"checkbox",onChange:A}),Object(k.jsx)("span",{children:e})]},t)}))]})}),Object(k.jsxs)("div",{className:"mb-4",children:[Object(k.jsx)("label",{htmlFor:"product_price",className:"form-label",children:"Stock"}),Object(k.jsx)("input",{type:"number",placeholder:"Escribe aca",className:"form-control",id:"product_price",required:!0,value:g,onChange:function(e){return N(e.target.value)}})]}),Object(k.jsxs)("div",{className:"mb-4",children:[Object(k.jsx)("label",{className:"form-label",children:"Descripcion"}),Object(k.jsx)("textarea",{placeholder:"Escribe aca",className:"form-control",rows:"7",required:!0,value:y,onChange:function(e){return _(e.target.value)}})]}),Object(k.jsxs)("div",{className:"mb-4",children:[Object(k.jsx)("label",{className:"form-label",children:"Imagen"}),Object(k.jsx)("input",{className:"form-control",type:"text",placeholder:"Ingresar URL",value:u,required:!0,onChange:function(e){return x(e.target.value)}}),Object(k.jsx)("input",{className:"form-control mt-3",type:"file"})]})]})})})})]})})]})},Le=function(){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(z,{}),Object(k.jsxs)("main",{className:"main-wrap",children:[Object(k.jsx)(_,{}),Object(k.jsx)(Re,{})]})]})},Ae=function(e){var t=e.history;window.scrollTo(0,0);var c=Object(s.useState)(""),a=Object(De.a)(c,2),r=a[0],n=a[1],i=Object(s.useState)(""),l=Object(De.a)(i,2),d=l[0],o=l[1],m=Object(j.b)(),p=Object(j.c)((function(e){return e.userLogin})),g=p.error,N=p.loading,f=p.userInfo;Object(s.useEffect)((function(){f&&t.push("/")}),[f,t]);return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(Ie,{}),Object(k.jsx)("div",{className:"card shadow mx-auto",style:{maxWidth:"380px",marginTop:"100px"},children:Object(k.jsxs)("div",{className:"card-body",children:[g&&Object(k.jsx)(R,{variant:"alert-danger",children:g}),N&&Object(k.jsx)(L,{}),Object(k.jsx)("h4",{className:"card-title mb-4 text-center",children:"Iniciar sesi\xf3n"}),Object(k.jsxs)("form",{onSubmit:function(e){e.preventDefault(),m(function(e,t){return function(){var c=Object(b.a)(h.a.mark((function c(s){var a,r,n,i,l;return h.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return a={pauseOnFocusLoss:!1,draggable:!1,pauseOnHover:!1,autoClose:2e3},c.prev=1,s({type:u}),r={headers:{"Content-Type":"application/json"}},c.next=6,w.a.post("https://deesgraze.herokuapp.com/api/users/login",{email:e,password:t},r);case 6:n=c.sent,!0===!(i=n.data).isAdmin?(E.b.error("You are not Admin",a),s({type:O})):s({type:x,payload:i}),localStorage.setItem("userInfo",JSON.stringify(i)),c.next=17;break;case 12:c.prev=12,c.t0=c.catch(1),"Not authorized, token failed"===(l=c.t0.response&&c.t0.response.data.message?c.t0.response.data.message:c.t0.message)&&s(S()),s({type:O,payload:l});case 17:case"end":return c.stop()}}),c,null,[[1,12]])})));return function(e){return c.apply(this,arguments)}}()}(r,d))},children:[Object(k.jsx)("div",{className:"mb-3",children:Object(k.jsx)("input",{className:"form-control",placeholder:"Email",type:"email",value:r,onChange:function(e){return n(e.target.value)}})}),Object(k.jsx)("div",{className:"mb-3",children:Object(k.jsx)("input",{className:"form-control",placeholder:"Contrase\xf1a",type:"password",value:d,onChange:function(e){return o(e.target.value)}})}),Object(k.jsx)("div",{className:"mb-4",children:Object(k.jsx)("button",{type:"submit",className:"btn btn-primary w-100",children:"Iniciar sesi\xf3n"})})]})]})})]})},Ue=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.userList})),c=t.loading,a=t.error,r=t.users;return Object(s.useEffect)((function(){e(function(){var e=Object(b.a)(h.a.mark((function e(t,c){var s,a,r,n,i,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:g}),s=c(),a=s.userLogin.userInfo,r={headers:{Authorization:"Bearer ".concat(a.token)}},e.next=6,w.a.get("https://deesgraze.herokuapp.com/api/users",r);case 6:n=e.sent,i=n.data,t({type:N,payload:i}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),"Not authorized, token failed"===(l=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message)&&t(S()),t({type:f,payload:l});case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,c){return e.apply(this,arguments)}}())}),[e]),Object(k.jsxs)("section",{className:"content-main",children:[Object(k.jsxs)("div",{className:"content-header",children:[Object(k.jsx)("h2",{className:"content-title",children:"Usuarios"}),Object(k.jsx)("div",{children:Object(k.jsxs)(i.b,{to:"#",className:"btn btn-primary",children:[Object(k.jsx)("i",{className:"material-icons md-plus"})," Create new"]})})]}),Object(k.jsxs)("div",{className:"card mb-4",children:[Object(k.jsx)("header",{className:"card-header",children:Object(k.jsxs)("div",{className:"row gx-3",children:[Object(k.jsx)("div",{className:"col-lg-4 col-md-6 me-auto",children:Object(k.jsx)("input",{type:"text",placeholder:"Search...",className:"form-control"})}),Object(k.jsx)("div",{className:"col-lg-2 col-6 col-md-3",children:Object(k.jsxs)("select",{className:"form-select",children:[Object(k.jsx)("option",{children:"Show 20"}),Object(k.jsx)("option",{children:"Show 30"}),Object(k.jsx)("option",{children:"Show 40"}),Object(k.jsx)("option",{children:"Show all"})]})}),Object(k.jsx)("div",{className:"col-lg-2 col-6 col-md-3",children:Object(k.jsxs)("select",{className:"form-select",children:[Object(k.jsx)("option",{children:"Status: all"}),Object(k.jsx)("option",{children:"Active only"}),Object(k.jsx)("option",{children:"Disabled"})]})})]})}),Object(k.jsxs)("div",{className:"card-body",children:[c?Object(k.jsx)(L,{}):a?Object(k.jsx)(R,{variant:"alert-danger",children:a}):Object(k.jsx)("div",{className:"row row-cols-1 row-cols-sm-2 row-cols-lg-3 row-cols-xl-4",children:r.map((function(e){return Object(k.jsx)("div",{className:"col",children:Object(k.jsxs)("div",{className:"card card-user shadow-sm",children:[Object(k.jsx)("div",{className:"card-header",children:Object(k.jsx)("img",{className:"img-md img-avatar",src:"images/favicon.png",alt:"User pic"})}),Object(k.jsxs)("div",{className:"card-body",children:[Object(k.jsx)("h5",{className:"card-title mt-5",children:e.name}),Object(k.jsxs)("div",{className:"card-text text-muted",children:[!0===e.isAdmin?Object(k.jsx)("p",{className:"m-0",children:"Admin"}):Object(k.jsx)("p",{className:"m-0",children:"Usuario"}),Object(k.jsx)("p",{children:Object(k.jsx)("a",{href:"mailto:".concat(e.email),children:e.email})})]})]})]})},e._id)}))}),Object(k.jsx)("nav",{className:"float-end mt-4","aria-label":"Page navigation",children:Object(k.jsxs)("ul",{className:"pagination",children:[Object(k.jsx)("li",{className:"page-item disabled",children:Object(k.jsx)(i.b,{className:"page-link",to:"#",children:"Previous"})}),Object(k.jsx)("li",{className:"page-item active",children:Object(k.jsx)(i.b,{className:"page-link",to:"#",children:"1"})}),Object(k.jsx)("li",{className:"page-item",children:Object(k.jsx)(i.b,{className:"page-link",to:"#",children:"Next"})})]})})]})]})]})},Pe=function(){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(z,{}),Object(k.jsxs)("main",{className:"main-wrap",children:[Object(k.jsx)(_,{}),Object(k.jsx)(Ue,{})]})]})},Fe={pauseOnFocusLoss:!1,draggable:!1,pauseOnHover:!1,autoClose:2e3},ze=function(e){var t=e.productId,c=Object(s.useState)(""),a=Object(De.a)(c,2),r=a[0],n=a[1],l=Object(s.useState)(0),d=Object(De.a)(l,2),o=d[0],m=d[1],u=Object(s.useState)(""),x=Object(De.a)(u,2),O=x[0],p=x[1],g=Object(s.useState)(0),N=Object(De.a)(g,2),f=N[0],v=N[1],y=Object(s.useState)(""),_=Object(De.a)(y,2),C=_[0],D=_[1],I=Object(s.useState)([]),T=Object(De.a)(I,2),A=T[0],U=T[1],P=function(e){var t=Object(Ce.a)(A);e.target.checked?t=[].concat(Object(Ce.a)(A),[e.target.value]):t.splice(A.indexOf(e.target.value),1),U(t)},F=Object(j.b)(),z=Object(j.c)((function(e){return e.productEdit})),M=z.loading,q=z.error,B=z.product,Q=Object(j.c)((function(e){return e.productUpdate})),G=Q.loading,H=Q.error,J=Q.success;Object(s.useEffect)((function(){var e;J?(F({type:se}),E.b.success("Product Updated",Fe)):B.name&&B._id===t?(n(B.name),D(B.description),v(B.countInStock),p(B.image),m(B.price),U(B.tallas)):F((e=t,function(){var t=Object(b.a)(h.a.mark((function t(c){var s,a,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:Y}),t.next=4,w.a.get("https://deesgraze.herokuapp.com/api/products/".concat(e));case 4:s=t.sent,a=s.data,c({type:W,payload:a}),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(0),"Not authorized, token failed"===(r=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&c(S()),c({type:V,payload:r});case 14:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()))}),[B,F,t,J]);var X=function(e){return e===A.find((function(t){return t===e}))&&(A.splice(A.indexOf(e),1,e),!0)};return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(Ie,{}),Object(k.jsx)("section",{className:"content-main",style:{maxWidth:"1200px"},children:Object(k.jsxs)("form",{onSubmit:function(e){e.preventDefault(),F(function(e){return function(){var t=Object(b.a)(h.a.mark((function t(c,s){var a,r,n,i,l,d;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:ee}),a=s(),r=a.userLogin.userInfo,n={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r.token)}},t.next=6,w.a.put("https://deesgraze.herokuapp.com/api/products/".concat(e._id),e,n);case 6:i=t.sent,l=i.data,c({type:te,payload:l}),c({type:W,payload:l}),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(0),"Not authorized, token failed"===(d=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&c(S()),c({type:ce,payload:d});case 17:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,c){return t.apply(this,arguments)}}()}({_id:t,name:r,price:o,description:C,image:O,countInStock:f,tallas:A}))},children:[Object(k.jsxs)("div",{className:"content-header",children:[Object(k.jsx)(i.b,{to:"/products",className:"btn btn-danger text-white",children:"ir a productos"}),Object(k.jsx)("h2",{className:"content-title",children:"Actualizar producto"}),Object(k.jsx)("div",{children:Object(k.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Publicar"})})]}),Object(k.jsx)("div",{className:"row mb-4",children:Object(k.jsx)("div",{className:"col-xl-8 col-lg-8",children:Object(k.jsx)("div",{className:"card mb-4 shadow-sm",children:Object(k.jsxs)("div",{className:"card-body",children:[H&&Object(k.jsx)(R,{variant:"alert-danger",children:H}),G&&Object(k.jsx)(L,{}),M?Object(k.jsx)(L,{}):q?Object(k.jsx)(R,{variant:"alert-danger",children:q}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{className:"mb-4",children:[Object(k.jsx)("label",{htmlFor:"product_title",className:"form-label",children:"titulo"}),Object(k.jsx)("input",{type:"text",placeholder:"Escribe aca",className:"form-control",id:"product_title",required:!0,value:r,onChange:function(e){return n(e.target.value)}})]}),Object(k.jsxs)("div",{className:"mb-4",children:[Object(k.jsx)("label",{htmlFor:"product_price",className:"form-label",children:"Precio"}),Object(k.jsx)("input",{type:"number",placeholder:"Escribe aca",className:"form-control",id:"product_price",required:!0,value:o,onChange:function(e){return m(e.target.value)}})]}),Object(k.jsx)("div",{className:"mb-4",children:Object(k.jsxs)("label",{className:"form-label",children:["Tallas",["XS","S","M","L","XL"].map((function(e,t){return Object(k.jsxs)("div",{children:[Object(k.jsx)("input",{checked:X(e),value:e,type:"checkbox",onChange:P}),Object(k.jsx)("span",{children:e})]},t)}))]})}),Object(k.jsxs)("div",{className:"mb-4",children:[Object(k.jsx)("label",{htmlFor:"product_price",className:"form-label",children:"Stock"}),Object(k.jsx)("input",{type:"number",placeholder:"Escribe aca",className:"form-control",id:"product_price",required:!0,value:f,onChange:function(e){return v(e.target.value)}})]}),Object(k.jsxs)("div",{className:"mb-4",children:[Object(k.jsx)("label",{className:"form-label",children:"Descripcion"}),Object(k.jsx)("textarea",{placeholder:"Escribe aca",className:"form-control",rows:"7",required:!0,value:C,onChange:function(e){return D(e.target.value)}})]}),Object(k.jsxs)("div",{className:"mb-4",children:[Object(k.jsx)("label",{className:"form-label",children:"Imagen"}),Object(k.jsx)("input",{className:"form-control",type:"text",value:O,required:!0,onChange:function(e){return p(e.target.value)}})]})]})]})})})})]})})]})},Me=function(e){var t=e.match.params.id;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(z,{}),Object(k.jsxs)("main",{className:"main-wrap",children:[Object(k.jsx)(_,{}),Object(k.jsx)(ze,{productId:t})]})]})},qe=function(){return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("div",{className:"container my-5",children:Object(k.jsxs)("div",{className:"row justify-content-center align-items-center",children:[Object(k.jsx)("h4",{className:"text-center mb-2 mb-sm-5",children:"Pagina no encontrada"}),Object(k.jsx)("img",{style:{width:"100%",height:"300px",objectFit:"contain"},src:"/images/not-found.png",alt:"Not-found"}),Object(k.jsx)("button",{className:"col-md-3 col-sm-6 col-12 btn btn-success mt-5",children:Object(k.jsx)(i.b,{to:"/",className:"text-white text-decoration-none",children:"Inicio"})})]})})})},Be=c(11),Qe=c(41),Ye=["component"];var We=function(e){var t=e.component,c=Object(Qe.a)(e,Ye),s=Object(j.c)((function(e){return e.userLogin})).userInfo;return Object(k.jsx)(l.b,Object(Be.a)(Object(Be.a)({},c),{},{component:function(e){return s&&s.isAdmin?Object(k.jsx)(t,Object(Be.a)({},e)):Object(k.jsx)(l.a,{to:"/login"})}}))};c(81);var Ve=function(){I.a.locale("es");var e=Object(j.b)(),t=Object(j.c)((function(e){return e.userLogin})).userInfo;return Object(s.useEffect)((function(){t&&t.isAdmin&&(e(ae()),e(function(){var e=Object(b.a)(h.a.mark((function e(t,c){var s,a,r,n,i,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Oe}),s=c(),a=s.userLogin.userInfo,r={headers:{Authorization:"Bearer ".concat(a.token)}},e.next=6,w.a.get("https://deesgraze.herokuapp.com/api/orders/all",r);case 6:n=e.sent,i=n.data,t({type:pe,payload:i}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),"Not authorized, token failed"===(l=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message)&&t(S()),t({type:ge,payload:l});case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,c){return e.apply(this,arguments)}}()))}),[e,t]),Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(i.a,{children:Object(k.jsxs)(l.d,{children:[Object(k.jsx)(We,{path:"/",component:M,exact:!0}),Object(k.jsx)(We,{path:"/products",component:ie}),Object(k.jsx)(We,{path:"/category",component:je}),Object(k.jsx)(We,{path:"/orders",component:he}),Object(k.jsx)(We,{path:"/order/:id",component:_e}),Object(k.jsx)(We,{path:"/addproduct",component:Le}),Object(k.jsx)(We,{path:"/users",component:Pe}),Object(k.jsx)(We,{path:"/product/:id/edit",component:Me}),Object(k.jsx)(l.b,{path:"/login",component:Ae}),Object(k.jsx)(We,{path:"*",component:qe})]})})})},Ge=c(24),He=c(43),Je=c(42),Xe=Object(Ge.combineReducers)({userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return{loading:!0};case x:return{loading:!1,userInfo:t.payload};case O:return{loading:!1,error:t.payload};case p:return{};default:return e}},userList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return{loading:!0};case N:return{loading:!1,users:t.payload};case f:return{loading:!1,error:t.payload};case v:return{users:[]};default:return e}},productList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return{loading:!0,products:[]};case B:return{loading:!1,products:t.payload};case Q:return{loading:!1,error:t.payload};default:return e}},productDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return{loading:!0};case H:return{loading:!1,success:!0};case J:return{loading:!1,error:t.payload};default:return e}},productCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X:return{loading:!0};case K:return{loading:!1,success:!0,product:t.payload};case $:return{loading:!1,error:t.payload};case Z:return{};default:return e}},productEdit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{reviews:[]}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:return Object(Be.a)(Object(Be.a)({},e),{},{loading:!0});case W:return{loading:!1,product:t.payload};case V:return{loading:!1,error:t.payload};default:return e}},productUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee:return{loading:!0};case te:return{loading:!1,success:!0,product:t.payload};case ce:return{loading:!1,error:t.payload};case se:return{product:{}};default:return e}},orderList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe:return{loading:!0};case pe:return{loading:!1,orders:t.payload};case ge:return{loading:!1,error:t.payload};default:return e}},orderDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,orderItems:[],shippingAddress:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ne:return Object(Be.a)(Object(Be.a)({},e),{},{loading:!0});case fe:return{loading:!1,order:t.payload};case ve:return{loading:!1,error:t.payload};default:return e}},orderDeliver:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ye:return{loading:!0};case we:return{loading:!1,success:!0};case Ee:return{loading:!1,error:t.payload};case Se:return{};default:return e}}}),Ke={userLogin:{userInfo:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null}},$e=[He.a],Ze=Object(Ge.createStore)(Xe,Ke,Object(Je.composeWithDevTools)(Ge.applyMiddleware.apply(void 0,$e)));n.a.render(Object(k.jsx)(j.a,{store:Ze,children:Object(k.jsx)(a.a.StrictMode,{children:Object(k.jsx)(Ve,{})})}),document.getElementById("root"))}},[[82,1,2]]]);
//# sourceMappingURL=main.91b7433a.chunk.js.map